{"ast":null,"code":"import _every from \"lodash/every\";\nimport _find from \"lodash/find\";\nimport _isFunction from \"lodash/isFunction\";\nimport _throttle from \"lodash/throttle\";\nimport _sortBy from \"lodash/sortBy\";\nimport _get from \"lodash/get\";\nimport _isNil from \"lodash/isNil\";\nimport _range from \"lodash/range\";\nimport _isBoolean from \"lodash/isBoolean\";\nimport _isArray from \"lodash/isArray\";\nvar _excluded = [\"item\"],\n    _excluded2 = [\"children\", \"className\", \"width\", \"height\", \"style\", \"compact\", \"title\", \"desc\"];\n\nfunction _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, _typeof(o);\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _iterableToArrayLimit(r, l) {\n  var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"];\n\n  if (null != t) {\n    var e,\n        n,\n        i,\n        u,\n        a = [],\n        f = !0,\n        o = !1;\n\n    try {\n      if (i = (t = t.call(r)).next, 0 === l) {\n        if (Object(t) !== t) return;\n        f = !1;\n      } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0);\n    } catch (r) {\n      o = !0, n = r;\n    } finally {\n      try {\n        if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return;\n      } finally {\n        if (o) throw n;\n      }\n    }\n\n    return a;\n  }\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  Object.defineProperty(subClass, \"prototype\", {\n    writable: false\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n  return _setPrototypeOf(o, p);\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n  return arr2;\n}\n\nfunction ownKeys(e, r) {\n  var t = Object.keys(e);\n\n  if (Object.getOwnPropertySymbols) {\n    var o = Object.getOwnPropertySymbols(e);\n    r && (o = o.filter(function (r) {\n      return Object.getOwnPropertyDescriptor(e, r).enumerable;\n    })), t.push.apply(t, o);\n  }\n\n  return t;\n}\n\nfunction _objectSpread(e) {\n  for (var r = 1; r < arguments.length; r++) {\n    var t = null != arguments[r] ? arguments[r] : {};\n    r % 2 ? ownKeys(Object(t), !0).forEach(function (r) {\n      _defineProperty(e, r, t[r]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) {\n      Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r));\n    });\n  }\n\n  return e;\n}\n\nfunction _defineProperty(obj, key, value) {\n  key = _toPropertyKey(key);\n\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _toPropertyKey(arg) {\n  var key = _toPrimitive(arg, \"string\");\n\n  return _typeof(key) === \"symbol\" ? key : String(key);\n}\n\nfunction _toPrimitive(input, hint) {\n  if (_typeof(input) !== \"object\" || input === null) return input;\n  var prim = input[Symbol.toPrimitive];\n\n  if (prim !== undefined) {\n    var res = prim.call(input, hint || \"default\");\n    if (_typeof(res) !== \"object\") return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n\n  return (hint === \"string\" ? String : Number)(input);\n}\n\nimport React, { Component, cloneElement, isValidElement, createElement } from 'react';\nimport classNames from 'classnames';\nimport invariant from 'tiny-invariant';\nimport { getRadialCursorPoints } from '../util/cursor/getRadialCursorPoints';\nimport { getTicks } from '../cartesian/getTicks';\nimport { Surface } from '../container/Surface';\nimport { Layer } from '../container/Layer';\nimport { Tooltip } from '../component/Tooltip';\nimport { Legend } from '../component/Legend';\nimport { Curve } from '../shape/Curve';\nimport { Cross } from '../shape/Cross';\nimport { Sector } from '../shape/Sector';\nimport { Dot } from '../shape/Dot';\nimport { isInRectangle, Rectangle } from '../shape/Rectangle';\nimport { findAllByType, findChildByType, getDisplayName, parseChildIndex, validateWidthHeight, isChildrenEqual, renderByOrder, getReactEventByType, filterProps } from '../util/ReactUtils';\nimport { CartesianAxis } from '../cartesian/CartesianAxis';\nimport { Brush } from '../cartesian/Brush';\nimport { getOffset, calculateChartCoordinate } from '../util/DOMUtils';\nimport { getAnyElementOfObject, hasDuplicate, uniqueId, isNumber, findEntryInArray } from '../util/DataUtils';\nimport { calculateActiveTickIndex, getMainColorOfGraphicItem, getBarSizeList, getBarPosition, appendOffsetOfLegend, getLegendProps, combineEventHandlers, getTicksOfAxis, getCoordinatesOfGrid, getStackedDataOfItem, parseErrorBarsOfAxis, getBandSizeOfAxis, getStackGroupsByAxisId, isCategoricalAxis, getDomainOfItemsWithSameAxis, getDomainOfStackGroups, getDomainOfDataByKey, parseSpecifiedDomain, parseDomainOfCategoryAxis, getTooltipItem } from '../util/ChartUtils';\nimport { detectReferenceElementsDomain } from '../util/DetectReferenceElementsDomain';\nimport { inRangeOfSector, polarToCartesian } from '../util/PolarUtils';\nimport { shallowEqual } from '../util/ShallowEqual';\nimport { eventCenter, SYNC_EVENT } from '../util/Events';\nimport { adaptEventHandlers } from '../util/types';\nimport { AccessibilityManager } from './AccessibilityManager';\nimport { isDomainSpecifiedByUser } from '../util/isDomainSpecifiedByUser';\nimport { deferer } from '../util/deferer';\nimport { getActiveShapeIndexForTooltip, isFunnel, isPie, isScatter } from '../util/ActiveShapeUtils';\nimport { getCursorPoints } from '../util/cursor/getCursorPoints';\nimport { getCursorRectangle } from '../util/cursor/getCursorRectangle';\nvar ORIENT_MAP = {\n  xAxis: ['bottom', 'top'],\n  yAxis: ['left', 'right']\n};\nvar originCoordinate = {\n  x: 0,\n  y: 0\n}; // use legacy isFinite only if there is a problem (aka IE)\n// eslint-disable-next-line no-restricted-globals\n\nvar isFinit = Number.isFinite ? Number.isFinite : isFinite;\n\nvar calculateTooltipPos = function calculateTooltipPos(rangeObj, layout) {\n  if (layout === 'horizontal') {\n    return rangeObj.x;\n  }\n\n  if (layout === 'vertical') {\n    return rangeObj.y;\n  }\n\n  if (layout === 'centric') {\n    return rangeObj.angle;\n  }\n\n  return rangeObj.radius;\n};\n\nvar getActiveCoordinate = function getActiveCoordinate(layout, tooltipTicks, activeIndex, rangeObj) {\n  var entry = tooltipTicks.find(function (tick) {\n    return tick && tick.index === activeIndex;\n  });\n\n  if (entry) {\n    if (layout === 'horizontal') {\n      return {\n        x: entry.coordinate,\n        y: rangeObj.y\n      };\n    }\n\n    if (layout === 'vertical') {\n      return {\n        x: rangeObj.x,\n        y: entry.coordinate\n      };\n    }\n\n    if (layout === 'centric') {\n      var _angle = entry.coordinate;\n      var _radius = rangeObj.radius;\n      return _objectSpread(_objectSpread(_objectSpread({}, rangeObj), polarToCartesian(rangeObj.cx, rangeObj.cy, _radius, _angle)), {}, {\n        angle: _angle,\n        radius: _radius\n      });\n    }\n\n    var radius = entry.coordinate;\n    var angle = rangeObj.angle;\n    return _objectSpread(_objectSpread(_objectSpread({}, rangeObj), polarToCartesian(rangeObj.cx, rangeObj.cy, radius, angle)), {}, {\n      angle: angle,\n      radius: radius\n    });\n  }\n\n  return originCoordinate;\n};\n\nvar getDisplayedData = function getDisplayedData(data, _ref, item) {\n  var graphicalItems = _ref.graphicalItems,\n      dataStartIndex = _ref.dataStartIndex,\n      dataEndIndex = _ref.dataEndIndex;\n  var itemsData = (graphicalItems || []).reduce(function (result, child) {\n    var itemData = child.props.data;\n\n    if (itemData && itemData.length) {\n      return [].concat(_toConsumableArray(result), _toConsumableArray(itemData));\n    }\n\n    return result;\n  }, []);\n\n  if (itemsData && itemsData.length > 0) {\n    return itemsData;\n  }\n\n  if (item && item.props && item.props.data && item.props.data.length > 0) {\n    return item.props.data;\n  }\n\n  if (data && data.length && isNumber(dataStartIndex) && isNumber(dataEndIndex)) {\n    return data.slice(dataStartIndex, dataEndIndex + 1);\n  }\n\n  return [];\n};\n\nfunction getDefaultDomainByAxisType(axisType) {\n  return axisType === 'number' ? [0, 'auto'] : undefined;\n}\n/**\n * Get the content to be displayed in the tooltip\n * @param  {Object} state          Current state\n * @param  {Array}  chartData      The data defined in chart\n * @param  {Number} activeIndex    Active index of data\n * @param  {String} activeLabel    Active label of data\n * @return {Array}                 The content of tooltip\n */\n\n\nvar getTooltipContent = function getTooltipContent(state, chartData, activeIndex, activeLabel) {\n  var graphicalItems = state.graphicalItems,\n      tooltipAxis = state.tooltipAxis;\n  var displayedData = getDisplayedData(chartData, state);\n\n  if (activeIndex < 0 || !graphicalItems || !graphicalItems.length || activeIndex >= displayedData.length) {\n    return null;\n  } // get data by activeIndex when the axis don't allow duplicated category\n\n\n  return graphicalItems.reduce(function (result, child) {\n    var hide = child.props.hide;\n\n    if (hide) {\n      return result;\n    }\n    /**\n     * Fixes: https://github.com/recharts/recharts/issues/3669\n     * Defaulting to chartData below to fix an edge case where the tooltip does not include data from all charts\n     * when a separate dataset is passed to chart prop data and specified on Line/Area/etc prop data\n     */\n\n\n    var _child$props$data = child.props.data,\n        data = _child$props$data === void 0 ? chartData : _child$props$data;\n    var payload;\n\n    if (tooltipAxis.dataKey && !tooltipAxis.allowDuplicatedCategory) {\n      // graphic child has data props\n      var entries = data === undefined ? displayedData : data;\n      payload = findEntryInArray(entries, tooltipAxis.dataKey, activeLabel);\n    } else {\n      payload = data && data[activeIndex] || displayedData[activeIndex];\n    }\n\n    if (!payload) {\n      return result;\n    }\n\n    return [].concat(_toConsumableArray(result), [getTooltipItem(child, payload)]);\n  }, []);\n};\n/**\n * Returns tooltip data based on a mouse position (as a parameter or in state)\n * @param  {Object} state     current state\n * @param  {Array}  chartData the data defined in chart\n * @param  {String} layout     The layout type of chart\n * @param  {Object} rangeObj  { x, y } coordinates\n * @return {Object}           Tooltip data data\n */\n\n\nvar getTooltipData = function getTooltipData(state, chartData, layout, rangeObj) {\n  var rangeData = rangeObj || {\n    x: state.chartX,\n    y: state.chartY\n  };\n  var pos = calculateTooltipPos(rangeData, layout);\n  var ticks = state.orderedTooltipTicks,\n      axis = state.tooltipAxis,\n      tooltipTicks = state.tooltipTicks;\n  var activeIndex = calculateActiveTickIndex(pos, ticks, tooltipTicks, axis);\n\n  if (activeIndex >= 0 && tooltipTicks) {\n    var activeLabel = tooltipTicks[activeIndex] && tooltipTicks[activeIndex].value;\n    var activePayload = getTooltipContent(state, chartData, activeIndex, activeLabel);\n    var activeCoordinate = getActiveCoordinate(layout, ticks, activeIndex, rangeData);\n    return {\n      activeTooltipIndex: activeIndex,\n      activeLabel: activeLabel,\n      activePayload: activePayload,\n      activeCoordinate: activeCoordinate\n    };\n  }\n\n  return null;\n};\n/**\n * Get the configuration of axis by the options of axis instance\n * @param  {Object} props         Latest props\n * @param {Array}  axes           The instance of axes\n * @param  {Array} graphicalItems The instances of item\n * @param  {String} axisType      The type of axis, xAxis - x-axis, yAxis - y-axis\n * @param  {String} axisIdKey     The unique id of an axis\n * @param  {Object} stackGroups   The items grouped by axisId and stackId\n * @param {Number} dataStartIndex The start index of the data series when a brush is applied\n * @param {Number} dataEndIndex   The end index of the data series when a brush is applied\n * @return {Object}      Configuration\n */\n\n\nexport var getAxisMapByAxes = function getAxisMapByAxes(props, _ref2) {\n  var axes = _ref2.axes,\n      graphicalItems = _ref2.graphicalItems,\n      axisType = _ref2.axisType,\n      axisIdKey = _ref2.axisIdKey,\n      stackGroups = _ref2.stackGroups,\n      dataStartIndex = _ref2.dataStartIndex,\n      dataEndIndex = _ref2.dataEndIndex;\n  var layout = props.layout,\n      children = props.children,\n      stackOffset = props.stackOffset;\n  var isCategorical = isCategoricalAxis(layout, axisType); // Eliminate duplicated axes\n\n  var axisMap = axes.reduce(function (result, child) {\n    var _child$props$domain2;\n\n    var _child$props = child.props,\n        type = _child$props.type,\n        dataKey = _child$props.dataKey,\n        allowDataOverflow = _child$props.allowDataOverflow,\n        allowDuplicatedCategory = _child$props.allowDuplicatedCategory,\n        scale = _child$props.scale,\n        ticks = _child$props.ticks,\n        includeHidden = _child$props.includeHidden;\n    var axisId = child.props[axisIdKey];\n\n    if (result[axisId]) {\n      return result;\n    }\n\n    var displayedData = getDisplayedData(props.data, {\n      graphicalItems: graphicalItems.filter(function (item) {\n        return item.props[axisIdKey] === axisId;\n      }),\n      dataStartIndex: dataStartIndex,\n      dataEndIndex: dataEndIndex\n    });\n    var len = displayedData.length;\n    var domain, duplicateDomain, categoricalDomain;\n    /*\n     * This is a hack to short-circuit the domain creation here to enhance performance.\n     * Usually, the data is used to determine the domain, but when the user specifies\n     * a domain upfront (via props), there is no need to calculate the domain start and end,\n     * which is very expensive for a larger amount of data.\n     * The only thing that would prohibit short-circuiting is when the user doesn't allow data overflow,\n     * because the axis is supposed to ignore the specified domain that way.\n     */\n\n    if (isDomainSpecifiedByUser(child.props.domain, allowDataOverflow, type)) {\n      domain = parseSpecifiedDomain(child.props.domain, null, allowDataOverflow);\n      /* The chart can be categorical and have the domain specified in numbers\n       * we still need to calculate the categorical domain\n       * TODO: refactor this more\n       */\n\n      if (isCategorical && (type === 'number' || scale !== 'auto')) {\n        categoricalDomain = getDomainOfDataByKey(displayedData, dataKey, 'category');\n      }\n    } // if the domain is defaulted we need this for `originalDomain` as well\n\n\n    var defaultDomain = getDefaultDomainByAxisType(type); // we didn't create the domain from user's props above, so we need to calculate it\n\n    if (!domain || domain.length === 0) {\n      var _child$props$domain;\n\n      var childDomain = (_child$props$domain = child.props.domain) !== null && _child$props$domain !== void 0 ? _child$props$domain : defaultDomain;\n\n      if (dataKey) {\n        // has dataKey in <Axis />\n        domain = getDomainOfDataByKey(displayedData, dataKey, type);\n\n        if (type === 'category' && isCategorical) {\n          // the field type is category data and this axis is categorical axis\n          var duplicate = hasDuplicate(domain);\n\n          if (allowDuplicatedCategory && duplicate) {\n            duplicateDomain = domain; // When category axis has duplicated text, serial numbers are used to generate scale\n\n            domain = _range(0, len);\n          } else if (!allowDuplicatedCategory) {\n            // remove duplicated category\n            domain = parseDomainOfCategoryAxis(childDomain, domain, child).reduce(function (finalDomain, entry) {\n              return finalDomain.indexOf(entry) >= 0 ? finalDomain : [].concat(_toConsumableArray(finalDomain), [entry]);\n            }, []);\n          }\n        } else if (type === 'category') {\n          // the field type is category data and this axis is numerical axis\n          if (!allowDuplicatedCategory) {\n            domain = parseDomainOfCategoryAxis(childDomain, domain, child).reduce(function (finalDomain, entry) {\n              return finalDomain.indexOf(entry) >= 0 || entry === '' || _isNil(entry) ? finalDomain : [].concat(_toConsumableArray(finalDomain), [entry]);\n            }, []);\n          } else {\n            // eliminate undefined or null or empty string\n            domain = domain.filter(function (entry) {\n              return entry !== '' && !_isNil(entry);\n            });\n          }\n        } else if (type === 'number') {\n          // the field type is numerical\n          var errorBarsDomain = parseErrorBarsOfAxis(displayedData, graphicalItems.filter(function (item) {\n            return item.props[axisIdKey] === axisId && (includeHidden || !item.props.hide);\n          }), dataKey, axisType, layout);\n\n          if (errorBarsDomain) {\n            domain = errorBarsDomain;\n          }\n        }\n\n        if (isCategorical && (type === 'number' || scale !== 'auto')) {\n          categoricalDomain = getDomainOfDataByKey(displayedData, dataKey, 'category');\n        }\n      } else if (isCategorical) {\n        // the axis is a categorical axis\n        domain = _range(0, len);\n      } else if (stackGroups && stackGroups[axisId] && stackGroups[axisId].hasStack && type === 'number') {\n        // when stackOffset is 'expand', the domain may be calculated as [0, 1.000000000002]\n        domain = stackOffset === 'expand' ? [0, 1] : getDomainOfStackGroups(stackGroups[axisId].stackGroups, dataStartIndex, dataEndIndex);\n      } else {\n        domain = getDomainOfItemsWithSameAxis(displayedData, graphicalItems.filter(function (item) {\n          return item.props[axisIdKey] === axisId && (includeHidden || !item.props.hide);\n        }), type, layout, true);\n      }\n\n      if (type === 'number') {\n        // To detect wether there is any reference lines whose props alwaysShow is true\n        domain = detectReferenceElementsDomain(children, domain, axisId, axisType, ticks);\n\n        if (childDomain) {\n          domain = parseSpecifiedDomain(childDomain, domain, allowDataOverflow);\n        }\n      } else if (type === 'category' && childDomain) {\n        var axisDomain = childDomain;\n        var isDomainValid = domain.every(function (entry) {\n          return axisDomain.indexOf(entry) >= 0;\n        });\n\n        if (isDomainValid) {\n          domain = axisDomain;\n        }\n      }\n    }\n\n    return _objectSpread(_objectSpread({}, result), {}, _defineProperty({}, axisId, _objectSpread(_objectSpread({}, child.props), {}, {\n      axisType: axisType,\n      domain: domain,\n      categoricalDomain: categoricalDomain,\n      duplicateDomain: duplicateDomain,\n      originalDomain: (_child$props$domain2 = child.props.domain) !== null && _child$props$domain2 !== void 0 ? _child$props$domain2 : defaultDomain,\n      isCategorical: isCategorical,\n      layout: layout\n    })));\n  }, {});\n  return axisMap;\n};\n/**\n * Get the configuration of axis by the options of item,\n * this kind of axis does not display in chart\n * @param  {Object} props         Latest props\n * @param  {Array} graphicalItems The instances of item\n * @param  {ReactElement} Axis    Axis Component\n * @param  {String} axisType      The type of axis, xAxis - x-axis, yAxis - y-axis\n * @param  {String} axisIdKey     The unique id of an axis\n * @param  {Object} stackGroups   The items grouped by axisId and stackId\n * @param {Number} dataStartIndex The start index of the data series when a brush is applied\n * @param {Number} dataEndIndex   The end index of the data series when a brush is applied\n * @return {Object}               Configuration\n */\n\nvar getAxisMapByItems = function getAxisMapByItems(props, _ref3) {\n  var graphicalItems = _ref3.graphicalItems,\n      Axis = _ref3.Axis,\n      axisType = _ref3.axisType,\n      axisIdKey = _ref3.axisIdKey,\n      stackGroups = _ref3.stackGroups,\n      dataStartIndex = _ref3.dataStartIndex,\n      dataEndIndex = _ref3.dataEndIndex;\n  var layout = props.layout,\n      children = props.children;\n  var displayedData = getDisplayedData(props.data, {\n    graphicalItems: graphicalItems,\n    dataStartIndex: dataStartIndex,\n    dataEndIndex: dataEndIndex\n  });\n  var len = displayedData.length;\n  var isCategorical = isCategoricalAxis(layout, axisType);\n  var index = -1; // The default type of x-axis is category axis,\n  // The default contents of x-axis is the serial numbers of data\n  // The default type of y-axis is number axis\n  // The default contents of y-axis is the domain of data\n\n  var axisMap = graphicalItems.reduce(function (result, child) {\n    var axisId = child.props[axisIdKey];\n    var originalDomain = getDefaultDomainByAxisType('number');\n\n    if (!result[axisId]) {\n      index++;\n      var domain;\n\n      if (isCategorical) {\n        domain = _range(0, len);\n      } else if (stackGroups && stackGroups[axisId] && stackGroups[axisId].hasStack) {\n        domain = getDomainOfStackGroups(stackGroups[axisId].stackGroups, dataStartIndex, dataEndIndex);\n        domain = detectReferenceElementsDomain(children, domain, axisId, axisType);\n      } else {\n        domain = parseSpecifiedDomain(originalDomain, getDomainOfItemsWithSameAxis(displayedData, graphicalItems.filter(function (item) {\n          return item.props[axisIdKey] === axisId && !item.props.hide;\n        }), 'number', layout), Axis.defaultProps.allowDataOverflow);\n        domain = detectReferenceElementsDomain(children, domain, axisId, axisType);\n      }\n\n      return _objectSpread(_objectSpread({}, result), {}, _defineProperty({}, axisId, _objectSpread(_objectSpread({\n        axisType: axisType\n      }, Axis.defaultProps), {}, {\n        hide: true,\n        orientation: _get(ORIENT_MAP, \"\".concat(axisType, \".\").concat(index % 2), null),\n        domain: domain,\n        originalDomain: originalDomain,\n        isCategorical: isCategorical,\n        layout: layout // specify scale when no Axis\n        // scale: isCategorical ? 'band' : 'linear',\n\n      })));\n    }\n\n    return result;\n  }, {});\n  return axisMap;\n};\n/**\n * Get the configuration of all x-axis or y-axis\n * @param  {Object} props          Latest props\n * @param  {String} axisType       The type of axis\n * @param  {Array}  graphicalItems The instances of item\n * @param  {Object} stackGroups    The items grouped by axisId and stackId\n * @param {Number} dataStartIndex  The start index of the data series when a brush is applied\n * @param {Number} dataEndIndex    The end index of the data series when a brush is applied\n * @return {Object}          Configuration\n */\n\n\nvar getAxisMap = function getAxisMap(props, _ref4) {\n  var _ref4$axisType = _ref4.axisType,\n      axisType = _ref4$axisType === void 0 ? 'xAxis' : _ref4$axisType,\n      AxisComp = _ref4.AxisComp,\n      graphicalItems = _ref4.graphicalItems,\n      stackGroups = _ref4.stackGroups,\n      dataStartIndex = _ref4.dataStartIndex,\n      dataEndIndex = _ref4.dataEndIndex;\n  var children = props.children;\n  var axisIdKey = \"\".concat(axisType, \"Id\"); // Get all the instance of Axis\n\n  var axes = findAllByType(children, AxisComp);\n  var axisMap = {};\n\n  if (axes && axes.length) {\n    axisMap = getAxisMapByAxes(props, {\n      axes: axes,\n      graphicalItems: graphicalItems,\n      axisType: axisType,\n      axisIdKey: axisIdKey,\n      stackGroups: stackGroups,\n      dataStartIndex: dataStartIndex,\n      dataEndIndex: dataEndIndex\n    });\n  } else if (graphicalItems && graphicalItems.length) {\n    axisMap = getAxisMapByItems(props, {\n      Axis: AxisComp,\n      graphicalItems: graphicalItems,\n      axisType: axisType,\n      axisIdKey: axisIdKey,\n      stackGroups: stackGroups,\n      dataStartIndex: dataStartIndex,\n      dataEndIndex: dataEndIndex\n    });\n  }\n\n  return axisMap;\n};\n\nvar tooltipTicksGenerator = function tooltipTicksGenerator(axisMap) {\n  var axis = getAnyElementOfObject(axisMap);\n  var tooltipTicks = getTicksOfAxis(axis, false, true);\n  return {\n    tooltipTicks: tooltipTicks,\n    orderedTooltipTicks: _sortBy(tooltipTicks, function (o) {\n      return o.coordinate;\n    }),\n    tooltipAxis: axis,\n    tooltipAxisBandSize: getBandSizeOfAxis(axis, tooltipTicks)\n  };\n};\n/**\n * Returns default, reset state for the categorical chart.\n * @param {Object} props Props object to use when creating the default state\n * @return {Object} Whole new state\n */\n\n\nvar createDefaultState = function createDefaultState(props) {\n  var _brushItem$props, _brushItem$props2;\n\n  var children = props.children,\n      defaultShowTooltip = props.defaultShowTooltip;\n  var brushItem = findChildByType(children, Brush);\n  var startIndex = brushItem && brushItem.props && brushItem.props.startIndex || 0;\n  var endIndex = (brushItem === null || brushItem === void 0 || (_brushItem$props = brushItem.props) === null || _brushItem$props === void 0 ? void 0 : _brushItem$props.endIndex) !== undefined ? brushItem === null || brushItem === void 0 || (_brushItem$props2 = brushItem.props) === null || _brushItem$props2 === void 0 ? void 0 : _brushItem$props2.endIndex : props.data && props.data.length - 1 || 0;\n  return {\n    chartX: 0,\n    chartY: 0,\n    dataStartIndex: startIndex,\n    dataEndIndex: endIndex,\n    activeTooltipIndex: -1,\n    isTooltipActive: !_isNil(defaultShowTooltip) ? defaultShowTooltip : false\n  };\n};\n\nvar hasGraphicalBarItem = function hasGraphicalBarItem(graphicalItems) {\n  if (!graphicalItems || !graphicalItems.length) {\n    return false;\n  }\n\n  return graphicalItems.some(function (item) {\n    var name = getDisplayName(item && item.type);\n    return name && name.indexOf('Bar') >= 0;\n  });\n};\n\nvar getAxisNameByLayout = function getAxisNameByLayout(layout) {\n  if (layout === 'horizontal') {\n    return {\n      numericAxisName: 'yAxis',\n      cateAxisName: 'xAxis'\n    };\n  }\n\n  if (layout === 'vertical') {\n    return {\n      numericAxisName: 'xAxis',\n      cateAxisName: 'yAxis'\n    };\n  }\n\n  if (layout === 'centric') {\n    return {\n      numericAxisName: 'radiusAxis',\n      cateAxisName: 'angleAxis'\n    };\n  }\n\n  return {\n    numericAxisName: 'angleAxis',\n    cateAxisName: 'radiusAxis'\n  };\n};\n/**\n * Calculate the offset of main part in the svg element\n * @param  {Object} params.props          Latest props\n * @param  {Array}  params.graphicalItems The instances of item\n * @param  {Object} params.xAxisMap       The configuration of x-axis\n * @param  {Object} params.yAxisMap       The configuration of y-axis\n * @param  {Object} prevLegendBBox        The boundary box of legend\n * @return {Object} The offset of main part in the svg element\n */\n\n\nvar calculateOffset = function calculateOffset(_ref5, prevLegendBBox) {\n  var props = _ref5.props,\n      graphicalItems = _ref5.graphicalItems,\n      _ref5$xAxisMap = _ref5.xAxisMap,\n      xAxisMap = _ref5$xAxisMap === void 0 ? {} : _ref5$xAxisMap,\n      _ref5$yAxisMap = _ref5.yAxisMap,\n      yAxisMap = _ref5$yAxisMap === void 0 ? {} : _ref5$yAxisMap;\n  var width = props.width,\n      height = props.height,\n      children = props.children;\n  var margin = props.margin || {};\n  var brushItem = findChildByType(children, Brush);\n  var legendItem = findChildByType(children, Legend);\n  var offsetH = Object.keys(yAxisMap).reduce(function (result, id) {\n    var entry = yAxisMap[id];\n    var orientation = entry.orientation;\n\n    if (!entry.mirror && !entry.hide) {\n      return _objectSpread(_objectSpread({}, result), {}, _defineProperty({}, orientation, result[orientation] + entry.width));\n    }\n\n    return result;\n  }, {\n    left: margin.left || 0,\n    right: margin.right || 0\n  });\n  var offsetV = Object.keys(xAxisMap).reduce(function (result, id) {\n    var entry = xAxisMap[id];\n    var orientation = entry.orientation;\n\n    if (!entry.mirror && !entry.hide) {\n      return _objectSpread(_objectSpread({}, result), {}, _defineProperty({}, orientation, _get(result, \"\".concat(orientation)) + entry.height));\n    }\n\n    return result;\n  }, {\n    top: margin.top || 0,\n    bottom: margin.bottom || 0\n  });\n\n  var offset = _objectSpread(_objectSpread({}, offsetV), offsetH);\n\n  var brushBottom = offset.bottom;\n\n  if (brushItem) {\n    offset.bottom += brushItem.props.height || Brush.defaultProps.height;\n  }\n\n  if (legendItem && prevLegendBBox) {\n    // @ts-expect-error margin is optional in props but required in appendOffsetOfLegend\n    offset = appendOffsetOfLegend(offset, graphicalItems, props, prevLegendBBox);\n  }\n\n  return _objectSpread(_objectSpread({\n    brushBottom: brushBottom\n  }, offset), {}, {\n    width: width - offset.left - offset.right,\n    height: height - offset.top - offset.bottom\n  });\n};\n\nexport var generateCategoricalChart = function generateCategoricalChart(_ref6) {\n  var _class;\n\n  var chartName = _ref6.chartName,\n      GraphicalChild = _ref6.GraphicalChild,\n      _ref6$defaultTooltipE = _ref6.defaultTooltipEventType,\n      defaultTooltipEventType = _ref6$defaultTooltipE === void 0 ? 'axis' : _ref6$defaultTooltipE,\n      _ref6$validateTooltip = _ref6.validateTooltipEventTypes,\n      validateTooltipEventTypes = _ref6$validateTooltip === void 0 ? ['axis'] : _ref6$validateTooltip,\n      axisComponents = _ref6.axisComponents,\n      legendContent = _ref6.legendContent,\n      formatAxisMap = _ref6.formatAxisMap,\n      defaultProps = _ref6.defaultProps;\n\n  var getFormatItems = function getFormatItems(props, currentState) {\n    var graphicalItems = currentState.graphicalItems,\n        stackGroups = currentState.stackGroups,\n        offset = currentState.offset,\n        updateId = currentState.updateId,\n        dataStartIndex = currentState.dataStartIndex,\n        dataEndIndex = currentState.dataEndIndex;\n    var barSize = props.barSize,\n        layout = props.layout,\n        barGap = props.barGap,\n        barCategoryGap = props.barCategoryGap,\n        globalMaxBarSize = props.maxBarSize;\n\n    var _getAxisNameByLayout = getAxisNameByLayout(layout),\n        numericAxisName = _getAxisNameByLayout.numericAxisName,\n        cateAxisName = _getAxisNameByLayout.cateAxisName;\n\n    var hasBar = hasGraphicalBarItem(graphicalItems);\n    var sizeList = hasBar && getBarSizeList({\n      barSize: barSize,\n      stackGroups: stackGroups\n    });\n    var formattedItems = [];\n    graphicalItems.forEach(function (item, index) {\n      var displayedData = getDisplayedData(props.data, {\n        dataStartIndex: dataStartIndex,\n        dataEndIndex: dataEndIndex\n      }, item);\n      var _item$props = item.props,\n          dataKey = _item$props.dataKey,\n          childMaxBarSize = _item$props.maxBarSize; // axisId of the numerical axis\n\n      var numericAxisId = item.props[\"\".concat(numericAxisName, \"Id\")]; // axisId of the categorical axis\n\n      var cateAxisId = item.props[\"\".concat(cateAxisName, \"Id\")];\n      var axisObjInitialValue = {};\n      var axisObj = axisComponents.reduce(function (result, entry) {\n        var _item$type$displayNam, _item$type, _objectSpread6; // map of axisId to axis for a specific axis type\n\n\n        var axisMap = currentState[\"\".concat(entry.axisType, \"Map\")]; // axisId of axis we are currently computing\n\n        var id = item.props[\"\".concat(entry.axisType, \"Id\")];\n        /**\n         * tell the user in dev mode that their configuration is incorrect if we cannot find a match between\n         * axisId on the chart and axisId on the axis. zAxis does not get passed in the map for ComposedChart,\n         * leave it out of the check for now.\n         */\n\n        !(axisMap && axisMap[id] || entry.axisType === 'zAxis') ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Specifying a(n) \".concat(entry.axisType, \"Id requires a corresponding \").concat(entry.axisType // @ts-expect-error we should stop reading data from ReactElements\n        , \"Id on the targeted graphical component \").concat((_item$type$displayNam = item === null || item === void 0 || (_item$type = item.type) === null || _item$type === void 0 ? void 0 : _item$type.displayName) !== null && _item$type$displayNam !== void 0 ? _item$type$displayNam : '')) : invariant(false) : void 0; // the axis we are currently formatting\n\n        var axis = axisMap[id];\n        return _objectSpread(_objectSpread({}, result), {}, (_objectSpread6 = {}, _defineProperty(_objectSpread6, entry.axisType, axis), _defineProperty(_objectSpread6, \"\".concat(entry.axisType, \"Ticks\"), getTicksOfAxis(axis)), _objectSpread6));\n      }, axisObjInitialValue);\n      var cateAxis = axisObj[cateAxisName];\n      var cateTicks = axisObj[\"\".concat(cateAxisName, \"Ticks\")];\n      var stackedData = stackGroups && stackGroups[numericAxisId] && stackGroups[numericAxisId].hasStack && getStackedDataOfItem(item, stackGroups[numericAxisId].stackGroups);\n      var itemIsBar = getDisplayName(item.type).indexOf('Bar') >= 0;\n      var bandSize = getBandSizeOfAxis(cateAxis, cateTicks);\n      var barPosition = [];\n\n      if (itemIsBar) {\n        var _ref7, _getBandSizeOfAxis; // 如果是bar，计算bar的位置\n\n\n        var maxBarSize = _isNil(childMaxBarSize) ? globalMaxBarSize : childMaxBarSize;\n        var barBandSize = (_ref7 = (_getBandSizeOfAxis = getBandSizeOfAxis(cateAxis, cateTicks, true)) !== null && _getBandSizeOfAxis !== void 0 ? _getBandSizeOfAxis : maxBarSize) !== null && _ref7 !== void 0 ? _ref7 : 0;\n        barPosition = getBarPosition({\n          barGap: barGap,\n          barCategoryGap: barCategoryGap,\n          bandSize: barBandSize !== bandSize ? barBandSize : bandSize,\n          sizeList: sizeList[cateAxisId],\n          maxBarSize: maxBarSize\n        });\n\n        if (barBandSize !== bandSize) {\n          barPosition = barPosition.map(function (pos) {\n            return _objectSpread(_objectSpread({}, pos), {}, {\n              position: _objectSpread(_objectSpread({}, pos.position), {}, {\n                offset: pos.position.offset - barBandSize / 2\n              })\n            });\n          });\n        }\n      } // @ts-expect-error we should stop reading data from ReactElements\n\n\n      var composedFn = item && item.type && item.type.getComposedData;\n\n      if (composedFn) {\n        var _objectSpread7;\n\n        formattedItems.push({\n          props: _objectSpread(_objectSpread({}, composedFn(_objectSpread(_objectSpread({}, axisObj), {}, {\n            displayedData: displayedData,\n            props: props,\n            dataKey: dataKey,\n            item: item,\n            bandSize: bandSize,\n            barPosition: barPosition,\n            offset: offset,\n            stackedData: stackedData,\n            layout: layout,\n            dataStartIndex: dataStartIndex,\n            dataEndIndex: dataEndIndex\n          }))), {}, (_objectSpread7 = {\n            key: item.key || \"item-\".concat(index)\n          }, _defineProperty(_objectSpread7, numericAxisName, axisObj[numericAxisName]), _defineProperty(_objectSpread7, cateAxisName, axisObj[cateAxisName]), _defineProperty(_objectSpread7, \"animationId\", updateId), _objectSpread7)),\n          childIndex: parseChildIndex(item, props.children),\n          item: item\n        });\n      }\n    });\n    return formattedItems;\n  };\n  /**\n   * The AxisMaps are expensive to render on large data sets\n   * so provide the ability to store them in state and only update them when necessary\n   * they are dependent upon the start and end index of\n   * the brush so it's important that this method is called _after_\n   * the state is updated with any new start/end indices\n   *\n   * @param {Object} props          The props object to be used for updating the axismaps\n   * dataStartIndex: The start index of the data series when a brush is applied\n   * dataEndIndex: The end index of the data series when a brush is applied\n   * updateId: The update id\n   * @param {Object} prevState      Prev state\n   * @return {Object} state New state to set\n   */\n\n\n  var updateStateOfAxisMapsOffsetAndStackGroups = function updateStateOfAxisMapsOffsetAndStackGroups(_ref8, prevState) {\n    var props = _ref8.props,\n        dataStartIndex = _ref8.dataStartIndex,\n        dataEndIndex = _ref8.dataEndIndex,\n        updateId = _ref8.updateId;\n\n    if (!validateWidthHeight({\n      props: props\n    })) {\n      return null;\n    }\n\n    var children = props.children,\n        layout = props.layout,\n        stackOffset = props.stackOffset,\n        data = props.data,\n        reverseStackOrder = props.reverseStackOrder;\n\n    var _getAxisNameByLayout2 = getAxisNameByLayout(layout),\n        numericAxisName = _getAxisNameByLayout2.numericAxisName,\n        cateAxisName = _getAxisNameByLayout2.cateAxisName;\n\n    var graphicalItems = findAllByType(children, GraphicalChild);\n    var stackGroups = getStackGroupsByAxisId(data, graphicalItems, \"\".concat(numericAxisName, \"Id\"), \"\".concat(cateAxisName, \"Id\"), stackOffset, reverseStackOrder);\n    var axisObj = axisComponents.reduce(function (result, entry) {\n      var name = \"\".concat(entry.axisType, \"Map\");\n      return _objectSpread(_objectSpread({}, result), {}, _defineProperty({}, name, getAxisMap(props, _objectSpread(_objectSpread({}, entry), {}, {\n        graphicalItems: graphicalItems,\n        stackGroups: entry.axisType === numericAxisName && stackGroups,\n        dataStartIndex: dataStartIndex,\n        dataEndIndex: dataEndIndex\n      }))));\n    }, {});\n    var offset = calculateOffset(_objectSpread(_objectSpread({}, axisObj), {}, {\n      props: props,\n      graphicalItems: graphicalItems\n    }), prevState === null || prevState === void 0 ? void 0 : prevState.legendBBox);\n    Object.keys(axisObj).forEach(function (key) {\n      axisObj[key] = formatAxisMap(props, axisObj[key], offset, key.replace('Map', ''), chartName);\n    });\n    var cateAxisMap = axisObj[\"\".concat(cateAxisName, \"Map\")];\n    var ticksObj = tooltipTicksGenerator(cateAxisMap);\n    var formattedGraphicalItems = getFormatItems(props, _objectSpread(_objectSpread({}, axisObj), {}, {\n      dataStartIndex: dataStartIndex,\n      dataEndIndex: dataEndIndex,\n      updateId: updateId,\n      graphicalItems: graphicalItems,\n      stackGroups: stackGroups,\n      offset: offset\n    }));\n    return _objectSpread(_objectSpread({\n      formattedGraphicalItems: formattedGraphicalItems,\n      graphicalItems: graphicalItems,\n      offset: offset,\n      stackGroups: stackGroups\n    }, ticksObj), axisObj);\n  };\n\n  return _class = /*#__PURE__*/function (_Component) {\n    _inherits(CategoricalChartWrapper, _Component);\n\n    var _super = _createSuper(CategoricalChartWrapper);\n\n    function CategoricalChartWrapper(_props) {\n      var _this;\n\n      _classCallCheck(this, CategoricalChartWrapper);\n\n      _this = _super.call(this, _props);\n\n      _defineProperty(_assertThisInitialized(_this), \"accessibilityManager\", new AccessibilityManager());\n\n      _defineProperty(_assertThisInitialized(_this), \"clearDefer\", function () {\n        if (_this.cancelDefer) {\n          _this.cancelDefer();\n\n          _this.cancelDefer = null;\n        }\n      });\n\n      _defineProperty(_assertThisInitialized(_this), \"handleLegendBBoxUpdate\", function (box) {\n        if (box) {\n          var _this$state = _this.state,\n              dataStartIndex = _this$state.dataStartIndex,\n              dataEndIndex = _this$state.dataEndIndex,\n              updateId = _this$state.updateId;\n\n          _this.setState(_objectSpread({\n            legendBBox: box\n          }, updateStateOfAxisMapsOffsetAndStackGroups({\n            props: _this.props,\n            dataStartIndex: dataStartIndex,\n            dataEndIndex: dataEndIndex,\n            updateId: updateId\n          }, _objectSpread(_objectSpread({}, _this.state), {}, {\n            legendBBox: box\n          }))));\n        }\n      });\n\n      _defineProperty(_assertThisInitialized(_this), \"handleReceiveSyncEvent\", function (cId, chartId, data) {\n        var syncId = _this.props.syncId;\n\n        if (syncId === cId && chartId !== _this.uniqueChartId) {\n          _this.clearDefer();\n\n          _this.cancelDefer = deferer(_this.applySyncEvent.bind(_assertThisInitialized(_this), data));\n        }\n      });\n\n      _defineProperty(_assertThisInitialized(_this), \"handleBrushChange\", function (_ref9) {\n        var startIndex = _ref9.startIndex,\n            endIndex = _ref9.endIndex; // Only trigger changes if the extents of the brush have actually changed\n\n        if (startIndex !== _this.state.dataStartIndex || endIndex !== _this.state.dataEndIndex) {\n          var updateId = _this.state.updateId;\n\n          _this.setState(function () {\n            return _objectSpread({\n              dataStartIndex: startIndex,\n              dataEndIndex: endIndex\n            }, updateStateOfAxisMapsOffsetAndStackGroups({\n              props: _this.props,\n              dataStartIndex: startIndex,\n              dataEndIndex: endIndex,\n              updateId: updateId\n            }, _this.state));\n          });\n\n          _this.triggerSyncEvent({\n            dataStartIndex: startIndex,\n            dataEndIndex: endIndex\n          });\n        }\n      });\n      /**\n       * The handler of mouse entering chart\n       * @param  {Object} e              Event object\n       * @return {Null}                  null\n       */\n\n\n      _defineProperty(_assertThisInitialized(_this), \"handleMouseEnter\", function (e) {\n        var onMouseEnter = _this.props.onMouseEnter;\n\n        var mouse = _this.getMouseInfo(e);\n\n        if (mouse) {\n          var _nextState = _objectSpread(_objectSpread({}, mouse), {}, {\n            isTooltipActive: true\n          });\n\n          _this.setState(_nextState);\n\n          _this.triggerSyncEvent(_nextState);\n\n          if (_isFunction(onMouseEnter)) {\n            onMouseEnter(_nextState, e);\n          }\n        }\n      });\n\n      _defineProperty(_assertThisInitialized(_this), \"triggeredAfterMouseMove\", function (e) {\n        var onMouseMove = _this.props.onMouseMove;\n\n        var mouse = _this.getMouseInfo(e);\n\n        var nextState = mouse ? _objectSpread(_objectSpread({}, mouse), {}, {\n          isTooltipActive: true\n        }) : {\n          isTooltipActive: false\n        };\n\n        _this.setState(nextState);\n\n        _this.triggerSyncEvent(nextState);\n\n        if (_isFunction(onMouseMove)) {\n          onMouseMove(nextState, e);\n        }\n      });\n      /**\n       * The handler of mouse entering a scatter\n       * @param {Object} el The active scatter\n       * @return {Object} no return\n       */\n\n\n      _defineProperty(_assertThisInitialized(_this), \"handleItemMouseEnter\", function (el) {\n        _this.setState(function () {\n          return {\n            isTooltipActive: true,\n            activeItem: el,\n            activePayload: el.tooltipPayload,\n            activeCoordinate: el.tooltipPosition || {\n              x: el.cx,\n              y: el.cy\n            }\n          };\n        });\n      });\n      /**\n       * The handler of mouse leaving a scatter\n       * @return {Object} no return\n       */\n\n\n      _defineProperty(_assertThisInitialized(_this), \"handleItemMouseLeave\", function () {\n        _this.setState(function () {\n          return {\n            isTooltipActive: false\n          };\n        });\n      });\n      /**\n       * The handler of mouse moving in chart\n       * @param  {Object} e        Event object\n       * @return {Null} no return\n       */\n\n\n      _defineProperty(_assertThisInitialized(_this), \"handleMouseMove\", function (e) {\n        if (e && _isFunction(e.persist)) {\n          e.persist();\n        }\n\n        _this.triggeredAfterMouseMove(e);\n      });\n      /**\n       * The handler if mouse leaving chart\n       * @param {Object} e Event object\n       * @return {Null} no return\n       */\n\n\n      _defineProperty(_assertThisInitialized(_this), \"handleMouseLeave\", function (e) {\n        var onMouseLeave = _this.props.onMouseLeave;\n        var nextState = {\n          isTooltipActive: false\n        };\n\n        _this.setState(nextState);\n\n        _this.triggerSyncEvent(nextState);\n\n        if (_isFunction(onMouseLeave)) {\n          onMouseLeave(nextState, e);\n        }\n\n        _this.cancelThrottledTriggerAfterMouseMove();\n      });\n\n      _defineProperty(_assertThisInitialized(_this), \"handleOuterEvent\", function (e) {\n        var eventName = getReactEventByType(e);\n\n        var event = _get(_this.props, \"\".concat(eventName));\n\n        if (eventName && _isFunction(event)) {\n          var mouse;\n\n          if (/.*touch.*/i.test(eventName)) {\n            mouse = _this.getMouseInfo(e.changedTouches[0]);\n          } else {\n            mouse = _this.getMouseInfo(e);\n          }\n\n          var handler = event;\n          handler(mouse, e);\n        }\n      });\n\n      _defineProperty(_assertThisInitialized(_this), \"handleClick\", function (e) {\n        var onClick = _this.props.onClick;\n\n        var mouse = _this.getMouseInfo(e);\n\n        if (mouse) {\n          var _nextState2 = _objectSpread(_objectSpread({}, mouse), {}, {\n            isTooltipActive: true\n          });\n\n          _this.setState(_nextState2);\n\n          _this.triggerSyncEvent(_nextState2);\n\n          if (_isFunction(onClick)) {\n            onClick(_nextState2, e);\n          }\n        }\n      });\n\n      _defineProperty(_assertThisInitialized(_this), \"handleMouseDown\", function (e) {\n        var onMouseDown = _this.props.onMouseDown;\n\n        if (_isFunction(onMouseDown)) {\n          var _nextState3 = _this.getMouseInfo(e);\n\n          onMouseDown(_nextState3, e);\n        }\n      });\n\n      _defineProperty(_assertThisInitialized(_this), \"handleMouseUp\", function (e) {\n        var onMouseUp = _this.props.onMouseUp;\n\n        if (_isFunction(onMouseUp)) {\n          var _nextState4 = _this.getMouseInfo(e);\n\n          onMouseUp(_nextState4, e);\n        }\n      });\n\n      _defineProperty(_assertThisInitialized(_this), \"handleTouchMove\", function (e) {\n        if (e.changedTouches != null && e.changedTouches.length > 0) {\n          _this.handleMouseMove(e.changedTouches[0]);\n        }\n      });\n\n      _defineProperty(_assertThisInitialized(_this), \"handleTouchStart\", function (e) {\n        if (e.changedTouches != null && e.changedTouches.length > 0) {\n          _this.handleMouseDown(e.changedTouches[0]);\n        }\n      });\n\n      _defineProperty(_assertThisInitialized(_this), \"handleTouchEnd\", function (e) {\n        if (e.changedTouches != null && e.changedTouches.length > 0) {\n          _this.handleMouseUp(e.changedTouches[0]);\n        }\n      });\n\n      _defineProperty(_assertThisInitialized(_this), \"verticalCoordinatesGenerator\", function (_ref10, syncWithTicks) {\n        var xAxis = _ref10.xAxis,\n            width = _ref10.width,\n            height = _ref10.height,\n            offset = _ref10.offset;\n        return getCoordinatesOfGrid(getTicks(_objectSpread(_objectSpread(_objectSpread({}, CartesianAxis.defaultProps), xAxis), {}, {\n          ticks: getTicksOfAxis(xAxis, true),\n          viewBox: {\n            x: 0,\n            y: 0,\n            width: width,\n            height: height\n          }\n        })), offset.left, offset.left + offset.width, syncWithTicks);\n      });\n\n      _defineProperty(_assertThisInitialized(_this), \"horizontalCoordinatesGenerator\", function (_ref11, syncWithTicks) {\n        var yAxis = _ref11.yAxis,\n            width = _ref11.width,\n            height = _ref11.height,\n            offset = _ref11.offset;\n        return getCoordinatesOfGrid(getTicks(_objectSpread(_objectSpread(_objectSpread({}, CartesianAxis.defaultProps), yAxis), {}, {\n          ticks: getTicksOfAxis(yAxis, true),\n          viewBox: {\n            x: 0,\n            y: 0,\n            width: width,\n            height: height\n          }\n        })), offset.top, offset.top + offset.height, syncWithTicks);\n      });\n\n      _defineProperty(_assertThisInitialized(_this), \"axesTicksGenerator\", function (axis) {\n        return getTicksOfAxis(axis, true);\n      });\n\n      _defineProperty(_assertThisInitialized(_this), \"renderCursor\", function (element) {\n        var _this$state2 = _this.state,\n            isTooltipActive = _this$state2.isTooltipActive,\n            activeCoordinate = _this$state2.activeCoordinate,\n            activePayload = _this$state2.activePayload,\n            offset = _this$state2.offset,\n            activeTooltipIndex = _this$state2.activeTooltipIndex,\n            tooltipAxisBandSize = _this$state2.tooltipAxisBandSize;\n\n        var tooltipEventType = _this.getTooltipEventType();\n\n        if (!element || !element.props.cursor || !isTooltipActive || !activeCoordinate || chartName !== 'ScatterChart' && tooltipEventType !== 'axis') {\n          return null;\n        }\n\n        var layout = _this.props.layout;\n        var restProps;\n        var cursorComp = Curve;\n\n        if (chartName === 'ScatterChart') {\n          restProps = activeCoordinate;\n          cursorComp = Cross;\n        } else if (chartName === 'BarChart') {\n          restProps = getCursorRectangle(layout, activeCoordinate, offset, tooltipAxisBandSize);\n          cursorComp = Rectangle;\n        } else if (layout === 'radial') {\n          var _getRadialCursorPoint = getRadialCursorPoints(activeCoordinate),\n              cx = _getRadialCursorPoint.cx,\n              cy = _getRadialCursorPoint.cy,\n              radius = _getRadialCursorPoint.radius,\n              startAngle = _getRadialCursorPoint.startAngle,\n              endAngle = _getRadialCursorPoint.endAngle;\n\n          restProps = {\n            cx: cx,\n            cy: cy,\n            startAngle: startAngle,\n            endAngle: endAngle,\n            innerRadius: radius,\n            outerRadius: radius\n          };\n          cursorComp = Sector;\n        } else {\n          restProps = {\n            points: getCursorPoints(layout, activeCoordinate, offset)\n          };\n          cursorComp = Curve;\n        }\n\n        var key = element.key || '_recharts-cursor';\n\n        var cursorProps = _objectSpread(_objectSpread(_objectSpread(_objectSpread({\n          stroke: '#ccc',\n          pointerEvents: 'none'\n        }, offset), restProps), filterProps(element.props.cursor)), {}, {\n          payload: activePayload,\n          payloadIndex: activeTooltipIndex,\n          key: key,\n          className: 'recharts-tooltip-cursor'\n        });\n\n        return /*#__PURE__*/isValidElement(element.props.cursor) ? /*#__PURE__*/cloneElement(element.props.cursor, cursorProps) : /*#__PURE__*/createElement(cursorComp, cursorProps);\n      });\n\n      _defineProperty(_assertThisInitialized(_this), \"renderPolarAxis\", function (element, displayName, index) {\n        var axisType = _get(element, 'type.axisType');\n\n        var axisMap = _get(_this.state, \"\".concat(axisType, \"Map\"));\n\n        var axisOption = axisMap && axisMap[element.props[\"\".concat(axisType, \"Id\")]];\n        return /*#__PURE__*/cloneElement(element, _objectSpread(_objectSpread({}, axisOption), {}, {\n          className: axisType,\n          key: element.key || \"\".concat(displayName, \"-\").concat(index),\n          ticks: getTicksOfAxis(axisOption, true)\n        }));\n      });\n\n      _defineProperty(_assertThisInitialized(_this), \"renderXAxis\", function (element, displayName, index) {\n        var xAxisMap = _this.state.xAxisMap;\n        var axisObj = xAxisMap[element.props.xAxisId];\n        return _this.renderAxis(axisObj, element, displayName, index);\n      });\n\n      _defineProperty(_assertThisInitialized(_this), \"renderYAxis\", function (element, displayName, index) {\n        var yAxisMap = _this.state.yAxisMap;\n        var axisObj = yAxisMap[element.props.yAxisId];\n        return _this.renderAxis(axisObj, element, displayName, index);\n      });\n      /**\n       * Draw grid\n       * @param  {ReactElement} element the grid item\n       * @return {ReactElement} The instance of grid\n       */\n\n\n      _defineProperty(_assertThisInitialized(_this), \"renderGrid\", function (element) {\n        var _this$state3 = _this.state,\n            xAxisMap = _this$state3.xAxisMap,\n            yAxisMap = _this$state3.yAxisMap,\n            offset = _this$state3.offset;\n        var _this$props = _this.props,\n            width = _this$props.width,\n            height = _this$props.height;\n        var xAxis = getAnyElementOfObject(xAxisMap);\n\n        var yAxisWithFiniteDomain = _find(yAxisMap, function (axis) {\n          return _every(axis.domain, isFinit);\n        });\n\n        var yAxis = yAxisWithFiniteDomain || getAnyElementOfObject(yAxisMap);\n        var props = element.props || {};\n        return /*#__PURE__*/cloneElement(element, {\n          key: element.key || 'grid',\n          x: isNumber(props.x) ? props.x : offset.left,\n          y: isNumber(props.y) ? props.y : offset.top,\n          width: isNumber(props.width) ? props.width : offset.width,\n          height: isNumber(props.height) ? props.height : offset.height,\n          xAxis: xAxis,\n          yAxis: yAxis,\n          offset: offset,\n          chartWidth: width,\n          chartHeight: height,\n          verticalCoordinatesGenerator: props.verticalCoordinatesGenerator || _this.verticalCoordinatesGenerator,\n          horizontalCoordinatesGenerator: props.horizontalCoordinatesGenerator || _this.horizontalCoordinatesGenerator\n        });\n      });\n\n      _defineProperty(_assertThisInitialized(_this), \"renderPolarGrid\", function (element) {\n        var _element$props = element.props,\n            radialLines = _element$props.radialLines,\n            polarAngles = _element$props.polarAngles,\n            polarRadius = _element$props.polarRadius;\n        var _this$state4 = _this.state,\n            radiusAxisMap = _this$state4.radiusAxisMap,\n            angleAxisMap = _this$state4.angleAxisMap;\n        var radiusAxis = getAnyElementOfObject(radiusAxisMap);\n        var angleAxis = getAnyElementOfObject(angleAxisMap);\n        var cx = angleAxis.cx,\n            cy = angleAxis.cy,\n            innerRadius = angleAxis.innerRadius,\n            outerRadius = angleAxis.outerRadius;\n        return /*#__PURE__*/cloneElement(element, {\n          polarAngles: _isArray(polarAngles) ? polarAngles : getTicksOfAxis(angleAxis, true).map(function (entry) {\n            return entry.coordinate;\n          }),\n          polarRadius: _isArray(polarRadius) ? polarRadius : getTicksOfAxis(radiusAxis, true).map(function (entry) {\n            return entry.coordinate;\n          }),\n          cx: cx,\n          cy: cy,\n          innerRadius: innerRadius,\n          outerRadius: outerRadius,\n          key: element.key || 'polar-grid',\n          radialLines: radialLines\n        });\n      });\n      /**\n       * Draw legend\n       * @return {ReactElement}            The instance of Legend\n       */\n\n\n      _defineProperty(_assertThisInitialized(_this), \"renderLegend\", function () {\n        var formattedGraphicalItems = _this.state.formattedGraphicalItems;\n        var _this$props2 = _this.props,\n            children = _this$props2.children,\n            width = _this$props2.width,\n            height = _this$props2.height;\n        var margin = _this.props.margin || {};\n        var legendWidth = width - (margin.left || 0) - (margin.right || 0);\n        var props = getLegendProps({\n          children: children,\n          formattedGraphicalItems: formattedGraphicalItems,\n          legendWidth: legendWidth,\n          legendContent: legendContent\n        });\n\n        if (!props) {\n          return null;\n        }\n\n        var item = props.item,\n            otherProps = _objectWithoutProperties(props, _excluded);\n\n        return /*#__PURE__*/cloneElement(item, _objectSpread(_objectSpread({}, otherProps), {}, {\n          chartWidth: width,\n          chartHeight: height,\n          margin: margin,\n          onBBoxUpdate: _this.handleLegendBBoxUpdate\n        }));\n      });\n      /**\n       * Draw Tooltip\n       * @return {ReactElement}  The instance of Tooltip\n       */\n\n\n      _defineProperty(_assertThisInitialized(_this), \"renderTooltip\", function () {\n        var children = _this.props.children;\n        var tooltipItem = findChildByType(children, Tooltip);\n\n        if (!tooltipItem) {\n          return null;\n        }\n\n        var _this$state5 = _this.state,\n            isTooltipActive = _this$state5.isTooltipActive,\n            activeCoordinate = _this$state5.activeCoordinate,\n            activePayload = _this$state5.activePayload,\n            activeLabel = _this$state5.activeLabel,\n            offset = _this$state5.offset;\n        return /*#__PURE__*/cloneElement(tooltipItem, {\n          viewBox: _objectSpread(_objectSpread({}, offset), {}, {\n            x: offset.left,\n            y: offset.top\n          }),\n          active: isTooltipActive,\n          label: activeLabel,\n          payload: isTooltipActive ? activePayload : [],\n          coordinate: activeCoordinate\n        });\n      });\n\n      _defineProperty(_assertThisInitialized(_this), \"renderBrush\", function (element) {\n        var _this$props3 = _this.props,\n            margin = _this$props3.margin,\n            data = _this$props3.data;\n        var _this$state6 = _this.state,\n            offset = _this$state6.offset,\n            dataStartIndex = _this$state6.dataStartIndex,\n            dataEndIndex = _this$state6.dataEndIndex,\n            updateId = _this$state6.updateId; // TODO: update brush when children update\n\n        return /*#__PURE__*/cloneElement(element, {\n          key: element.key || '_recharts-brush',\n          onChange: combineEventHandlers(_this.handleBrushChange, null, element.props.onChange),\n          data: data,\n          x: isNumber(element.props.x) ? element.props.x : offset.left,\n          y: isNumber(element.props.y) ? element.props.y : offset.top + offset.height + offset.brushBottom - (margin.bottom || 0),\n          width: isNumber(element.props.width) ? element.props.width : offset.width,\n          startIndex: dataStartIndex,\n          endIndex: dataEndIndex,\n          updateId: \"brush-\".concat(updateId)\n        });\n      });\n\n      _defineProperty(_assertThisInitialized(_this), \"renderReferenceElement\", function (element, displayName, index) {\n        if (!element) {\n          return null;\n        }\n\n        var _assertThisInitialize = _assertThisInitialized(_this),\n            clipPathId = _assertThisInitialize.clipPathId;\n\n        var _this$state7 = _this.state,\n            xAxisMap = _this$state7.xAxisMap,\n            yAxisMap = _this$state7.yAxisMap,\n            offset = _this$state7.offset;\n        var _element$props2 = element.props,\n            xAxisId = _element$props2.xAxisId,\n            yAxisId = _element$props2.yAxisId;\n        return /*#__PURE__*/cloneElement(element, {\n          key: element.key || \"\".concat(displayName, \"-\").concat(index),\n          xAxis: xAxisMap[xAxisId],\n          yAxis: yAxisMap[yAxisId],\n          viewBox: {\n            x: offset.left,\n            y: offset.top,\n            width: offset.width,\n            height: offset.height\n          },\n          clipPathId: clipPathId\n        });\n      });\n\n      _defineProperty(_assertThisInitialized(_this), \"renderActivePoints\", function (_ref12) {\n        var item = _ref12.item,\n            activePoint = _ref12.activePoint,\n            basePoint = _ref12.basePoint,\n            childIndex = _ref12.childIndex,\n            isRange = _ref12.isRange;\n        var result = [];\n        var key = item.props.key;\n        var _item$item$props = item.item.props,\n            activeDot = _item$item$props.activeDot,\n            dataKey = _item$item$props.dataKey;\n\n        var dotProps = _objectSpread(_objectSpread({\n          index: childIndex,\n          dataKey: dataKey,\n          cx: activePoint.x,\n          cy: activePoint.y,\n          r: 4,\n          fill: getMainColorOfGraphicItem(item.item),\n          strokeWidth: 2,\n          stroke: '#fff',\n          payload: activePoint.payload,\n          value: activePoint.value,\n          key: \"\".concat(key, \"-activePoint-\").concat(childIndex)\n        }, filterProps(activeDot)), adaptEventHandlers(activeDot));\n\n        result.push(CategoricalChartWrapper.renderActiveDot(activeDot, dotProps));\n\n        if (basePoint) {\n          result.push(CategoricalChartWrapper.renderActiveDot(activeDot, _objectSpread(_objectSpread({}, dotProps), {}, {\n            cx: basePoint.x,\n            cy: basePoint.y,\n            key: \"\".concat(key, \"-basePoint-\").concat(childIndex)\n          })));\n        } else if (isRange) {\n          result.push(null);\n        }\n\n        return result;\n      });\n\n      _defineProperty(_assertThisInitialized(_this), \"renderGraphicChild\", function (element, displayName, index) {\n        var item = _this.filterFormatItem(element, displayName, index);\n\n        if (!item) {\n          return null;\n        }\n\n        var tooltipEventType = _this.getTooltipEventType();\n\n        var _this$state8 = _this.state,\n            isTooltipActive = _this$state8.isTooltipActive,\n            tooltipAxis = _this$state8.tooltipAxis,\n            activeTooltipIndex = _this$state8.activeTooltipIndex,\n            activeLabel = _this$state8.activeLabel;\n        var children = _this.props.children;\n        var tooltipItem = findChildByType(children, Tooltip);\n        var _item$props2 = item.props,\n            points = _item$props2.points,\n            isRange = _item$props2.isRange,\n            baseLine = _item$props2.baseLine;\n        var _item$item$props2 = item.item.props,\n            activeDot = _item$item$props2.activeDot,\n            hide = _item$item$props2.hide,\n            activeBar = _item$item$props2.activeBar,\n            activeShape = _item$item$props2.activeShape;\n        var hasActive = Boolean(!hide && isTooltipActive && tooltipItem && (activeDot || activeBar || activeShape));\n        var itemEvents = {};\n\n        if (tooltipEventType !== 'axis' && tooltipItem && tooltipItem.props.trigger === 'click') {\n          itemEvents = {\n            onClick: combineEventHandlers(_this.handleItemMouseEnter, null, element.props.onCLick)\n          };\n        } else if (tooltipEventType !== 'axis') {\n          itemEvents = {\n            onMouseLeave: combineEventHandlers(_this.handleItemMouseLeave, null, element.props.onMouseLeave),\n            onMouseEnter: combineEventHandlers(_this.handleItemMouseEnter, null, element.props.onMouseEnter)\n          };\n        }\n\n        var graphicalItem = /*#__PURE__*/cloneElement(element, _objectSpread(_objectSpread({}, item.props), itemEvents));\n\n        function findWithPayload(entry) {\n          // TODO needs to verify dataKey is Function\n          return typeof tooltipAxis.dataKey === 'function' ? tooltipAxis.dataKey(entry.payload) : null;\n        }\n\n        if (hasActive) {\n          if (activeTooltipIndex >= 0) {\n            var activePoint, basePoint;\n\n            if (tooltipAxis.dataKey && !tooltipAxis.allowDuplicatedCategory) {\n              // number transform to string\n              var specifiedKey = typeof tooltipAxis.dataKey === 'function' ? findWithPayload : 'payload.'.concat(tooltipAxis.dataKey.toString());\n              activePoint = findEntryInArray(points, specifiedKey, activeLabel);\n              basePoint = isRange && baseLine && findEntryInArray(baseLine, specifiedKey, activeLabel);\n            } else {\n              activePoint = points === null || points === void 0 ? void 0 : points[activeTooltipIndex];\n              basePoint = isRange && baseLine && baseLine[activeTooltipIndex];\n            }\n\n            if (activeShape || activeBar) {\n              var activeIndex = element.props.activeIndex !== undefined ? element.props.activeIndex : activeTooltipIndex;\n              return [/*#__PURE__*/cloneElement(element, _objectSpread(_objectSpread(_objectSpread({}, item.props), itemEvents), {}, {\n                activeIndex: activeIndex\n              })), null, null];\n            }\n\n            if (!_isNil(activePoint)) {\n              return [graphicalItem].concat(_toConsumableArray(_this.renderActivePoints({\n                item: item,\n                activePoint: activePoint,\n                basePoint: basePoint,\n                childIndex: activeTooltipIndex,\n                isRange: isRange\n              })));\n            }\n          } else {\n            var _this$getItemByXY;\n            /**\n             * We hit this block if consumer uses a Tooltip without XAxis and/or YAxis.\n             * In which case, this.state.activeTooltipIndex never gets set\n             * because the mouse events that trigger that value getting set never get trigged without the axis components.\n             *\n             * An example usage case is a FunnelChart\n             */\n\n\n            var _ref13 = (_this$getItemByXY = _this.getItemByXY(_this.state.activeCoordinate)) !== null && _this$getItemByXY !== void 0 ? _this$getItemByXY : {\n              graphicalItem: graphicalItem\n            },\n                _ref13$graphicalItem = _ref13.graphicalItem,\n                _ref13$graphicalItem$ = _ref13$graphicalItem.item,\n                xyItem = _ref13$graphicalItem$ === void 0 ? element : _ref13$graphicalItem$,\n                childIndex = _ref13$graphicalItem.childIndex;\n\n            var elementProps = _objectSpread(_objectSpread(_objectSpread({}, item.props), itemEvents), {}, {\n              activeIndex: childIndex\n            });\n\n            return [/*#__PURE__*/cloneElement(xyItem, elementProps), null, null];\n          }\n        }\n\n        if (isRange) {\n          return [graphicalItem, null, null];\n        }\n\n        return [graphicalItem, null];\n      });\n\n      _defineProperty(_assertThisInitialized(_this), \"renderCustomized\", function (element, displayName, index) {\n        return /*#__PURE__*/cloneElement(element, _objectSpread(_objectSpread({\n          key: \"recharts-customized-\".concat(index)\n        }, _this.props), _this.state));\n      });\n\n      _this.uniqueChartId = _isNil(_props.id) ? uniqueId('recharts') : _props.id;\n      _this.clipPathId = \"\".concat(_this.uniqueChartId, \"-clip\");\n\n      if (_props.throttleDelay) {\n        _this.triggeredAfterMouseMove = _throttle(_this.triggeredAfterMouseMove, _props.throttleDelay);\n      }\n\n      _this.state = {};\n      return _this;\n    }\n\n    _createClass(CategoricalChartWrapper, [{\n      key: \"componentDidMount\",\n      value: function componentDidMount() {\n        var _this$props$margin$le, _this$props$margin$to;\n\n        if (!_isNil(this.props.syncId)) {\n          this.addListener();\n        }\n\n        this.accessibilityManager.setDetails({\n          container: this.container,\n          offset: {\n            left: (_this$props$margin$le = this.props.margin.left) !== null && _this$props$margin$le !== void 0 ? _this$props$margin$le : 0,\n            top: (_this$props$margin$to = this.props.margin.top) !== null && _this$props$margin$to !== void 0 ? _this$props$margin$to : 0\n          },\n          coordinateList: this.state.tooltipTicks,\n          mouseHandlerCallback: this.handleMouseMove,\n          layout: this.props.layout\n        });\n      }\n    }, {\n      key: \"getSnapshotBeforeUpdate\",\n      value: function getSnapshotBeforeUpdate(prevProps, prevState) {\n        if (!this.props.accessibilityLayer) {\n          return null;\n        }\n\n        if (this.state.tooltipTicks !== prevState.tooltipTicks) {\n          this.accessibilityManager.setDetails({\n            coordinateList: this.state.tooltipTicks\n          });\n        }\n\n        if (this.props.layout !== prevProps.layout) {\n          this.accessibilityManager.setDetails({\n            layout: this.props.layout\n          });\n        }\n\n        if (this.props.margin !== prevProps.margin) {\n          var _this$props$margin$le2, _this$props$margin$to2;\n\n          this.accessibilityManager.setDetails({\n            offset: {\n              left: (_this$props$margin$le2 = this.props.margin.left) !== null && _this$props$margin$le2 !== void 0 ? _this$props$margin$le2 : 0,\n              top: (_this$props$margin$to2 = this.props.margin.top) !== null && _this$props$margin$to2 !== void 0 ? _this$props$margin$to2 : 0\n            }\n          });\n        } // Something has to be returned for getSnapshotBeforeUpdate\n\n\n        return null;\n      }\n    }, {\n      key: \"componentDidUpdate\",\n      value: function componentDidUpdate(prevProps) {\n        // add syncId\n        if (_isNil(prevProps.syncId) && !_isNil(this.props.syncId)) {\n          this.addListener();\n        } // remove syncId\n\n\n        if (!_isNil(prevProps.syncId) && _isNil(this.props.syncId)) {\n          this.removeListener();\n        }\n      }\n    }, {\n      key: \"componentWillUnmount\",\n      value: function componentWillUnmount() {\n        this.clearDefer();\n\n        if (!_isNil(this.props.syncId)) {\n          this.removeListener();\n        }\n\n        this.cancelThrottledTriggerAfterMouseMove();\n      }\n    }, {\n      key: \"cancelThrottledTriggerAfterMouseMove\",\n      value: function cancelThrottledTriggerAfterMouseMove() {\n        if (typeof this.triggeredAfterMouseMove.cancel === 'function') {\n          this.triggeredAfterMouseMove.cancel();\n        }\n      }\n    }, {\n      key: \"getTooltipEventType\",\n      value: function getTooltipEventType() {\n        var tooltipItem = findChildByType(this.props.children, Tooltip);\n\n        if (tooltipItem && _isBoolean(tooltipItem.props.shared)) {\n          var eventType = tooltipItem.props.shared ? 'axis' : 'item';\n          return validateTooltipEventTypes.indexOf(eventType) >= 0 ? eventType : defaultTooltipEventType;\n        }\n\n        return defaultTooltipEventType;\n      }\n      /**\n       * Get the information of mouse in chart, return null when the mouse is not in the chart\n       * @param  {Object} event    The event object\n       * @return {Object}          Mouse data\n       */\n\n    }, {\n      key: \"getMouseInfo\",\n      value: function getMouseInfo(event) {\n        var _element$getBoundingC;\n\n        if (!this.container) {\n          return null;\n        }\n\n        var containerOffset = getOffset(this.container);\n        var e = calculateChartCoordinate(event, containerOffset);\n        var element = this.container;\n        var boundingRectWidth = element === null || element === void 0 || (_element$getBoundingC = element.getBoundingClientRect()) === null || _element$getBoundingC === void 0 ? void 0 : _element$getBoundingC.width;\n        var offsetWidth = element.offsetWidth;\n        var scale = boundingRectWidth / offsetWidth || 1;\n        var rangeObj = this.inRange(e.chartX, e.chartY, scale);\n\n        if (!rangeObj) {\n          return null;\n        }\n\n        var _this$state9 = this.state,\n            xAxisMap = _this$state9.xAxisMap,\n            yAxisMap = _this$state9.yAxisMap;\n        var tooltipEventType = this.getTooltipEventType();\n\n        if (tooltipEventType !== 'axis' && xAxisMap && yAxisMap) {\n          var xScale = getAnyElementOfObject(xAxisMap).scale;\n          var yScale = getAnyElementOfObject(yAxisMap).scale;\n          var xValue = xScale && xScale.invert ? xScale.invert(e.chartX) : null;\n          var yValue = yScale && yScale.invert ? yScale.invert(e.chartY) : null;\n          return _objectSpread(_objectSpread({}, e), {}, {\n            xValue: xValue,\n            yValue: yValue\n          });\n        }\n\n        var toolTipData = getTooltipData(this.state, this.props.data, this.props.layout, rangeObj);\n\n        if (toolTipData) {\n          return _objectSpread(_objectSpread({}, e), toolTipData);\n        }\n\n        return null;\n      }\n    }, {\n      key: \"inRange\",\n      value: function inRange(x, y) {\n        var scale = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\n        var layout = this.props.layout;\n        var scaledX = x / scale,\n            scaledY = y / scale;\n\n        if (layout === 'horizontal' || layout === 'vertical') {\n          var offset = this.state.offset;\n          var isInRange = scaledX >= offset.left && scaledX <= offset.left + offset.width && scaledY >= offset.top && scaledY <= offset.top + offset.height;\n          return isInRange ? {\n            x: scaledX,\n            y: scaledY\n          } : null;\n        }\n\n        var _this$state10 = this.state,\n            angleAxisMap = _this$state10.angleAxisMap,\n            radiusAxisMap = _this$state10.radiusAxisMap;\n\n        if (angleAxisMap && radiusAxisMap) {\n          var angleAxis = getAnyElementOfObject(angleAxisMap);\n          return inRangeOfSector({\n            x: scaledX,\n            y: scaledY\n          }, angleAxis);\n        }\n\n        return null;\n      }\n    }, {\n      key: \"parseEventsOfWrapper\",\n      value: function parseEventsOfWrapper() {\n        var children = this.props.children;\n        var tooltipEventType = this.getTooltipEventType();\n        var tooltipItem = findChildByType(children, Tooltip);\n        var tooltipEvents = {};\n\n        if (tooltipItem && tooltipEventType === 'axis') {\n          if (tooltipItem.props.trigger === 'click') {\n            tooltipEvents = {\n              onClick: this.handleClick\n            };\n          } else {\n            tooltipEvents = {\n              onMouseEnter: this.handleMouseEnter,\n              onMouseMove: this.handleMouseMove,\n              onMouseLeave: this.handleMouseLeave,\n              onTouchMove: this.handleTouchMove,\n              onTouchStart: this.handleTouchStart,\n              onTouchEnd: this.handleTouchEnd\n            };\n          }\n        } // @ts-expect-error adaptEventHandlers expects DOM Event but generateCategoricalChart works with React UIEvents\n\n\n        var outerEvents = adaptEventHandlers(this.props, this.handleOuterEvent);\n        return _objectSpread(_objectSpread({}, outerEvents), tooltipEvents);\n      }\n      /* eslint-disable  no-underscore-dangle */\n\n    }, {\n      key: \"addListener\",\n      value: function addListener() {\n        eventCenter.on(SYNC_EVENT, this.handleReceiveSyncEvent);\n\n        if (eventCenter.setMaxListeners && eventCenter._maxListeners) {\n          eventCenter.setMaxListeners(eventCenter._maxListeners + 1);\n        }\n      }\n    }, {\n      key: \"removeListener\",\n      value: function removeListener() {\n        eventCenter.removeListener(SYNC_EVENT, this.handleReceiveSyncEvent);\n\n        if (eventCenter.setMaxListeners && eventCenter._maxListeners) {\n          eventCenter.setMaxListeners(eventCenter._maxListeners - 1);\n        }\n      }\n    }, {\n      key: \"triggerSyncEvent\",\n      value: function triggerSyncEvent(data) {\n        var syncId = this.props.syncId;\n\n        if (!_isNil(syncId)) {\n          eventCenter.emit(SYNC_EVENT, syncId, this.uniqueChartId, data);\n        }\n      }\n    }, {\n      key: \"applySyncEvent\",\n      value: function applySyncEvent(data) {\n        var _this$props4 = this.props,\n            layout = _this$props4.layout,\n            syncMethod = _this$props4.syncMethod;\n        var updateId = this.state.updateId;\n        var dataStartIndex = data.dataStartIndex,\n            dataEndIndex = data.dataEndIndex;\n\n        if (!_isNil(data.dataStartIndex) || !_isNil(data.dataEndIndex)) {\n          this.setState(_objectSpread({\n            dataStartIndex: dataStartIndex,\n            dataEndIndex: dataEndIndex\n          }, updateStateOfAxisMapsOffsetAndStackGroups({\n            props: this.props,\n            dataStartIndex: dataStartIndex,\n            dataEndIndex: dataEndIndex,\n            updateId: updateId\n          }, this.state)));\n        } else if (!_isNil(data.activeTooltipIndex)) {\n          var chartX = data.chartX,\n              chartY = data.chartY;\n          var activeTooltipIndex = data.activeTooltipIndex;\n          var _this$state11 = this.state,\n              offset = _this$state11.offset,\n              tooltipTicks = _this$state11.tooltipTicks;\n\n          if (!offset) {\n            return;\n          }\n\n          if (typeof syncMethod === 'function') {\n            // Call a callback function. If there is an application specific algorithm\n            activeTooltipIndex = syncMethod(tooltipTicks, data);\n          } else if (syncMethod === 'value') {\n            // Set activeTooltipIndex to the index with the same value as data.activeLabel\n            // For loop instead of findIndex because the latter is very slow in some browsers\n            activeTooltipIndex = -1; // in case we cannot find the element\n\n            for (var i = 0; i < tooltipTicks.length; i++) {\n              if (tooltipTicks[i].value === data.activeLabel) {\n                activeTooltipIndex = i;\n                break;\n              }\n            }\n          }\n\n          var viewBox = _objectSpread(_objectSpread({}, offset), {}, {\n            x: offset.left,\n            y: offset.top\n          }); // When a categorical chart is combined with another chart, the value of chartX\n          // and chartY may beyond the boundaries.\n\n\n          var validateChartX = Math.min(chartX, viewBox.x + viewBox.width);\n          var validateChartY = Math.min(chartY, viewBox.y + viewBox.height);\n          var activeLabel = tooltipTicks[activeTooltipIndex] && tooltipTicks[activeTooltipIndex].value;\n          var activePayload = getTooltipContent(this.state, this.props.data, activeTooltipIndex);\n          var activeCoordinate = tooltipTicks[activeTooltipIndex] ? {\n            x: layout === 'horizontal' ? tooltipTicks[activeTooltipIndex].coordinate : validateChartX,\n            y: layout === 'horizontal' ? validateChartY : tooltipTicks[activeTooltipIndex].coordinate\n          } : originCoordinate;\n          this.setState(_objectSpread(_objectSpread({}, data), {}, {\n            activeLabel: activeLabel,\n            activeCoordinate: activeCoordinate,\n            activePayload: activePayload,\n            activeTooltipIndex: activeTooltipIndex\n          }));\n        } else {\n          this.setState(data);\n        }\n      }\n    }, {\n      key: \"filterFormatItem\",\n      value: function filterFormatItem(item, displayName, childIndex) {\n        var formattedGraphicalItems = this.state.formattedGraphicalItems;\n\n        for (var i = 0, len = formattedGraphicalItems.length; i < len; i++) {\n          var entry = formattedGraphicalItems[i];\n\n          if (entry.item === item || entry.props.key === item.key || displayName === getDisplayName(entry.item.type) && childIndex === entry.childIndex) {\n            return entry;\n          }\n        }\n\n        return null;\n      }\n    }, {\n      key: \"renderAxis\",\n      value:\n      /**\n       * Draw axis\n       * @param {Object} axisOptions The options of axis\n       * @param {Object} element      The axis element\n       * @param {String} displayName  The display name of axis\n       * @param {Number} index        The index of element\n       * @return {ReactElement}       The instance of x-axes\n       */\n      function renderAxis(axisOptions, element, displayName, index) {\n        var _this$props5 = this.props,\n            width = _this$props5.width,\n            height = _this$props5.height;\n        return /*#__PURE__*/React.createElement(CartesianAxis, _extends({}, axisOptions, {\n          className: classNames(\"recharts-\".concat(axisOptions.axisType, \" \").concat(axisOptions.axisType), axisOptions.className),\n          key: element.key || \"\".concat(displayName, \"-\").concat(index),\n          viewBox: {\n            x: 0,\n            y: 0,\n            width: width,\n            height: height\n          },\n          ticksGenerator: this.axesTicksGenerator\n        }));\n      }\n    }, {\n      key: \"renderClipPath\",\n      value: function renderClipPath() {\n        var clipPathId = this.clipPathId;\n        var _this$state$offset = this.state.offset,\n            left = _this$state$offset.left,\n            top = _this$state$offset.top,\n            height = _this$state$offset.height,\n            width = _this$state$offset.width;\n        return /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"clipPath\", {\n          id: clipPathId\n        }, /*#__PURE__*/React.createElement(\"rect\", {\n          x: left,\n          y: top,\n          height: height,\n          width: width\n        })));\n      }\n    }, {\n      key: \"getXScales\",\n      value: function getXScales() {\n        var xAxisMap = this.state.xAxisMap;\n        return xAxisMap ? Object.entries(xAxisMap).reduce(function (res, _ref14) {\n          var _ref15 = _slicedToArray(_ref14, 2),\n              axisId = _ref15[0],\n              axisProps = _ref15[1];\n\n          return _objectSpread(_objectSpread({}, res), {}, _defineProperty({}, axisId, axisProps.scale));\n        }, {}) : null;\n      }\n    }, {\n      key: \"getYScales\",\n      value: function getYScales() {\n        var yAxisMap = this.state.yAxisMap;\n        return yAxisMap ? Object.entries(yAxisMap).reduce(function (res, _ref16) {\n          var _ref17 = _slicedToArray(_ref16, 2),\n              axisId = _ref17[0],\n              axisProps = _ref17[1];\n\n          return _objectSpread(_objectSpread({}, res), {}, _defineProperty({}, axisId, axisProps.scale));\n        }, {}) : null;\n      }\n    }, {\n      key: \"getXScaleByAxisId\",\n      value: function getXScaleByAxisId(axisId) {\n        var _this$state$xAxisMap;\n\n        return (_this$state$xAxisMap = this.state.xAxisMap) === null || _this$state$xAxisMap === void 0 || (_this$state$xAxisMap = _this$state$xAxisMap[axisId]) === null || _this$state$xAxisMap === void 0 ? void 0 : _this$state$xAxisMap.scale;\n      }\n    }, {\n      key: \"getYScaleByAxisId\",\n      value: function getYScaleByAxisId(axisId) {\n        var _this$state$yAxisMap;\n\n        return (_this$state$yAxisMap = this.state.yAxisMap) === null || _this$state$yAxisMap === void 0 || (_this$state$yAxisMap = _this$state$yAxisMap[axisId]) === null || _this$state$yAxisMap === void 0 ? void 0 : _this$state$yAxisMap.scale;\n      }\n    }, {\n      key: \"getItemByXY\",\n      value: function getItemByXY(chartXY) {\n        var _this$state12 = this.state,\n            formattedGraphicalItems = _this$state12.formattedGraphicalItems,\n            activeItem = _this$state12.activeItem;\n\n        if (formattedGraphicalItems && formattedGraphicalItems.length) {\n          for (var i = 0, len = formattedGraphicalItems.length; i < len; i++) {\n            var graphicalItem = formattedGraphicalItems[i];\n            var props = graphicalItem.props,\n                item = graphicalItem.item;\n            var itemDisplayName = getDisplayName(item.type);\n\n            if (itemDisplayName === 'Bar') {\n              var activeBarItem = (props.data || []).find(function (entry) {\n                return isInRectangle(chartXY, entry);\n              });\n\n              if (activeBarItem) {\n                return {\n                  graphicalItem: graphicalItem,\n                  payload: activeBarItem\n                };\n              }\n            } else if (itemDisplayName === 'RadialBar') {\n              var _activeBarItem = (props.data || []).find(function (entry) {\n                return inRangeOfSector(chartXY, entry);\n              });\n\n              if (_activeBarItem) {\n                return {\n                  graphicalItem: graphicalItem,\n                  payload: _activeBarItem\n                };\n              }\n            } else if (isFunnel(graphicalItem, activeItem) || isPie(graphicalItem, activeItem) || isScatter(graphicalItem, activeItem)) {\n              var activeIndex = getActiveShapeIndexForTooltip({\n                graphicalItem: graphicalItem,\n                activeTooltipItem: activeItem,\n                itemData: item.props.data\n              });\n              var childIndex = item.props.activeIndex === undefined ? activeIndex : item.props.activeIndex;\n              return {\n                graphicalItem: _objectSpread(_objectSpread({}, graphicalItem), {}, {\n                  childIndex: childIndex\n                }),\n                payload: isScatter(graphicalItem, activeItem) ? item.props.data[activeIndex] : graphicalItem.props.data[activeIndex]\n              };\n            }\n          }\n        }\n\n        return null;\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        var _this2 = this;\n\n        if (!validateWidthHeight(this)) {\n          return null;\n        }\n\n        var _this$props6 = this.props,\n            children = _this$props6.children,\n            className = _this$props6.className,\n            width = _this$props6.width,\n            height = _this$props6.height,\n            style = _this$props6.style,\n            compact = _this$props6.compact,\n            title = _this$props6.title,\n            desc = _this$props6.desc,\n            others = _objectWithoutProperties(_this$props6, _excluded2);\n\n        var attrs = filterProps(others);\n        var map = {\n          CartesianGrid: {\n            handler: this.renderGrid,\n            once: true\n          },\n          ReferenceArea: {\n            handler: this.renderReferenceElement\n          },\n          ReferenceLine: {\n            handler: this.renderReferenceElement\n          },\n          ReferenceDot: {\n            handler: this.renderReferenceElement\n          },\n          XAxis: {\n            handler: this.renderXAxis\n          },\n          YAxis: {\n            handler: this.renderYAxis\n          },\n          Brush: {\n            handler: this.renderBrush,\n            once: true\n          },\n          Bar: {\n            handler: this.renderGraphicChild\n          },\n          Line: {\n            handler: this.renderGraphicChild\n          },\n          Area: {\n            handler: this.renderGraphicChild\n          },\n          Radar: {\n            handler: this.renderGraphicChild\n          },\n          RadialBar: {\n            handler: this.renderGraphicChild\n          },\n          Scatter: {\n            handler: this.renderGraphicChild\n          },\n          Pie: {\n            handler: this.renderGraphicChild\n          },\n          Funnel: {\n            handler: this.renderGraphicChild\n          },\n          Tooltip: {\n            handler: this.renderCursor,\n            once: true\n          },\n          PolarGrid: {\n            handler: this.renderPolarGrid,\n            once: true\n          },\n          PolarAngleAxis: {\n            handler: this.renderPolarAxis\n          },\n          PolarRadiusAxis: {\n            handler: this.renderPolarAxis\n          },\n          Customized: {\n            handler: this.renderCustomized\n          }\n        }; // The \"compact\" mode is mainly used as the panorama within Brush\n\n        if (compact) {\n          return /*#__PURE__*/React.createElement(Surface, _extends({}, attrs, {\n            width: width,\n            height: height,\n            title: title,\n            desc: desc\n          }), this.renderClipPath(), renderByOrder(children, map));\n        }\n\n        if (this.props.accessibilityLayer) {\n          var _2, _img; // Set tabIndex to 0 by default (can be overwritten)\n\n\n          attrs.tabIndex = (_2 = 0) !== null && _2 !== void 0 ? _2 : this.props.tabIndex; // Set role to img by default (can be overwritten)\n\n          attrs.role = (_img = 'img') !== null && _img !== void 0 ? _img : this.props.role;\n\n          attrs.onKeyDown = function (e) {\n            _this2.accessibilityManager.keyboardEvent(e); // 'onKeyDown' is not currently a supported prop that can be passed through\n            // if it's added, this should be added: this.props.onKeyDown(e);\n\n          };\n\n          attrs.onFocus = function () {\n            _this2.accessibilityManager.focus(); // 'onFocus' is not currently a supported prop that can be passed through\n            // if it's added, the focus event should be forwarded to the prop\n\n          };\n        }\n\n        var events = this.parseEventsOfWrapper();\n        return /*#__PURE__*/React.createElement(\"div\", _extends({\n          className: classNames('recharts-wrapper', className),\n          style: _objectSpread({\n            position: 'relative',\n            cursor: 'default',\n            width: width,\n            height: height\n          }, style)\n        }, events, {\n          ref: function ref(node) {\n            _this2.container = node;\n          },\n          role: \"region\"\n        }), /*#__PURE__*/React.createElement(Surface, _extends({}, attrs, {\n          width: width,\n          height: height,\n          title: title,\n          desc: desc\n        }), this.renderClipPath(), renderByOrder(children, map)), this.renderLegend(), this.renderTooltip());\n      }\n    }]);\n\n    return CategoricalChartWrapper;\n  }(Component), _defineProperty(_class, \"displayName\", chartName), _defineProperty(_class, \"defaultProps\", _objectSpread({\n    layout: 'horizontal',\n    stackOffset: 'none',\n    barCategoryGap: '10%',\n    barGap: 4,\n    margin: {\n      top: 5,\n      right: 5,\n      bottom: 5,\n      left: 5\n    },\n    reverseStackOrder: false,\n    syncMethod: 'index'\n  }, defaultProps)), _defineProperty(_class, \"getDerivedStateFromProps\", function (nextProps, prevState) {\n    var data = nextProps.data,\n        children = nextProps.children,\n        width = nextProps.width,\n        height = nextProps.height,\n        layout = nextProps.layout,\n        stackOffset = nextProps.stackOffset,\n        margin = nextProps.margin;\n\n    if (_isNil(prevState.updateId)) {\n      var defaultState = createDefaultState(nextProps);\n      return _objectSpread(_objectSpread(_objectSpread({}, defaultState), {}, {\n        updateId: 0\n      }, updateStateOfAxisMapsOffsetAndStackGroups(_objectSpread(_objectSpread({\n        props: nextProps\n      }, defaultState), {}, {\n        updateId: 0\n      }), prevState)), {}, {\n        prevData: data,\n        prevWidth: width,\n        prevHeight: height,\n        prevLayout: layout,\n        prevStackOffset: stackOffset,\n        prevMargin: margin,\n        prevChildren: children\n      });\n    }\n\n    if (data !== prevState.prevData || width !== prevState.prevWidth || height !== prevState.prevHeight || layout !== prevState.prevLayout || stackOffset !== prevState.prevStackOffset || !shallowEqual(margin, prevState.prevMargin)) {\n      var _defaultState = createDefaultState(nextProps); // Fixes https://github.com/recharts/recharts/issues/2143\n\n\n      var keepFromPrevState = {\n        // (chartX, chartY) are (0,0) in default state, but we want to keep the last mouse position to avoid\n        // any flickering\n        chartX: prevState.chartX,\n        chartY: prevState.chartY,\n        // The tooltip should stay active when it was active in the previous render. If this is not\n        // the case, the tooltip disappears and immediately re-appears, causing a flickering effect\n        isTooltipActive: prevState.isTooltipActive\n      };\n\n      var updatesToState = _objectSpread(_objectSpread({}, getTooltipData(prevState, data, layout)), {}, {\n        updateId: prevState.updateId + 1\n      });\n\n      var newState = _objectSpread(_objectSpread(_objectSpread({}, _defaultState), keepFromPrevState), updatesToState);\n\n      return _objectSpread(_objectSpread(_objectSpread({}, newState), updateStateOfAxisMapsOffsetAndStackGroups(_objectSpread({\n        props: nextProps\n      }, newState), prevState)), {}, {\n        prevData: data,\n        prevWidth: width,\n        prevHeight: height,\n        prevLayout: layout,\n        prevStackOffset: stackOffset,\n        prevMargin: margin,\n        prevChildren: children\n      });\n    }\n\n    if (!isChildrenEqual(children, prevState.prevChildren)) {\n      // update configuration in children\n      var hasGlobalData = !_isNil(data);\n      var newUpdateId = hasGlobalData ? prevState.updateId : prevState.updateId + 1;\n      return _objectSpread(_objectSpread({\n        updateId: newUpdateId\n      }, updateStateOfAxisMapsOffsetAndStackGroups(_objectSpread(_objectSpread({\n        props: nextProps\n      }, prevState), {}, {\n        updateId: newUpdateId\n      }), prevState)), {}, {\n        prevChildren: children\n      });\n    }\n\n    return null;\n  }), _defineProperty(_class, \"renderActiveDot\", function (option, props) {\n    var dot;\n\n    if ( /*#__PURE__*/isValidElement(option)) {\n      dot = /*#__PURE__*/cloneElement(option, props);\n    } else if (_isFunction(option)) {\n      dot = option(props);\n    } else {\n      dot = /*#__PURE__*/React.createElement(Dot, props);\n    }\n\n    return /*#__PURE__*/React.createElement(Layer, {\n      className: \"recharts-active-dot\",\n      key: props.key\n    }, dot);\n  }), _class;\n};","map":{"version":3,"names":["_every","_find","_isFunction","_throttle","_sortBy","_get","_isNil","_range","_isBoolean","_isArray","_excluded","_excluded2","_typeof","o","Symbol","iterator","constructor","prototype","_slicedToArray","arr","i","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","TypeError","r","l","t","e","n","u","a","f","call","next","Object","done","push","value","length","Array","isArray","_extends","assign","bind","target","arguments","source","key","hasOwnProperty","apply","_objectWithoutProperties","excluded","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","indexOf","propertyIsEnumerable","sourceKeys","keys","_classCallCheck","instance","Constructor","_defineProperties","props","descriptor","enumerable","configurable","writable","defineProperty","_toPropertyKey","_createClass","protoProps","staticProps","_inherits","subClass","superClass","create","_setPrototypeOf","p","setPrototypeOf","__proto__","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","_getPrototypeOf","result","NewTarget","Reflect","construct","_possibleConstructorReturn","self","_assertThisInitialized","ReferenceError","sham","Proxy","Boolean","valueOf","getPrototypeOf","_toConsumableArray","_arrayWithoutHoles","_iterableToArray","_nonIterableSpread","minLen","_arrayLikeToArray","toString","slice","name","from","test","iter","len","arr2","ownKeys","filter","getOwnPropertyDescriptor","_objectSpread","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","obj","arg","_toPrimitive","String","input","hint","prim","toPrimitive","undefined","res","Number","React","Component","cloneElement","isValidElement","createElement","classNames","invariant","getRadialCursorPoints","getTicks","Surface","Layer","Tooltip","Legend","Curve","Cross","Sector","Dot","isInRectangle","Rectangle","findAllByType","findChildByType","getDisplayName","parseChildIndex","validateWidthHeight","isChildrenEqual","renderByOrder","getReactEventByType","filterProps","CartesianAxis","Brush","getOffset","calculateChartCoordinate","getAnyElementOfObject","hasDuplicate","uniqueId","isNumber","findEntryInArray","calculateActiveTickIndex","getMainColorOfGraphicItem","getBarSizeList","getBarPosition","appendOffsetOfLegend","getLegendProps","combineEventHandlers","getTicksOfAxis","getCoordinatesOfGrid","getStackedDataOfItem","parseErrorBarsOfAxis","getBandSizeOfAxis","getStackGroupsByAxisId","isCategoricalAxis","getDomainOfItemsWithSameAxis","getDomainOfStackGroups","getDomainOfDataByKey","parseSpecifiedDomain","parseDomainOfCategoryAxis","getTooltipItem","detectReferenceElementsDomain","inRangeOfSector","polarToCartesian","shallowEqual","eventCenter","SYNC_EVENT","adaptEventHandlers","AccessibilityManager","isDomainSpecifiedByUser","deferer","getActiveShapeIndexForTooltip","isFunnel","isPie","isScatter","getCursorPoints","getCursorRectangle","ORIENT_MAP","xAxis","yAxis","originCoordinate","x","y","isFinit","isFinite","calculateTooltipPos","rangeObj","layout","angle","radius","getActiveCoordinate","tooltipTicks","activeIndex","entry","find","tick","index","coordinate","_angle","_radius","cx","cy","getDisplayedData","data","_ref","item","graphicalItems","dataStartIndex","dataEndIndex","itemsData","reduce","child","itemData","concat","getDefaultDomainByAxisType","axisType","getTooltipContent","state","chartData","activeLabel","tooltipAxis","displayedData","hide","_child$props$data","payload","dataKey","allowDuplicatedCategory","entries","getTooltipData","rangeData","chartX","chartY","pos","ticks","orderedTooltipTicks","axis","activePayload","activeCoordinate","activeTooltipIndex","getAxisMapByAxes","_ref2","axes","axisIdKey","stackGroups","children","stackOffset","isCategorical","axisMap","_child$props$domain2","_child$props","type","allowDataOverflow","scale","includeHidden","axisId","domain","duplicateDomain","categoricalDomain","defaultDomain","_child$props$domain","childDomain","duplicate","finalDomain","errorBarsDomain","hasStack","axisDomain","isDomainValid","every","originalDomain","getAxisMapByItems","_ref3","Axis","defaultProps","orientation","getAxisMap","_ref4","_ref4$axisType","AxisComp","tooltipTicksGenerator","tooltipAxisBandSize","createDefaultState","_brushItem$props","_brushItem$props2","defaultShowTooltip","brushItem","startIndex","endIndex","isTooltipActive","hasGraphicalBarItem","some","getAxisNameByLayout","numericAxisName","cateAxisName","calculateOffset","_ref5","prevLegendBBox","_ref5$xAxisMap","xAxisMap","_ref5$yAxisMap","yAxisMap","width","height","margin","legendItem","offsetH","id","mirror","left","right","offsetV","top","bottom","offset","brushBottom","generateCategoricalChart","_ref6","_class","chartName","GraphicalChild","_ref6$defaultTooltipE","defaultTooltipEventType","_ref6$validateTooltip","validateTooltipEventTypes","axisComponents","legendContent","formatAxisMap","getFormatItems","currentState","updateId","barSize","barGap","barCategoryGap","globalMaxBarSize","maxBarSize","_getAxisNameByLayout","hasBar","sizeList","formattedItems","_item$props","childMaxBarSize","numericAxisId","cateAxisId","axisObjInitialValue","axisObj","_item$type$displayNam","_item$type","_objectSpread6","process","env","NODE_ENV","displayName","cateAxis","cateTicks","stackedData","itemIsBar","bandSize","barPosition","_ref7","_getBandSizeOfAxis","barBandSize","map","position","composedFn","getComposedData","_objectSpread7","childIndex","updateStateOfAxisMapsOffsetAndStackGroups","_ref8","prevState","reverseStackOrder","_getAxisNameByLayout2","legendBBox","replace","cateAxisMap","ticksObj","formattedGraphicalItems","_Component","CategoricalChartWrapper","_super","_props","_this","cancelDefer","box","_this$state","setState","cId","chartId","syncId","uniqueChartId","clearDefer","applySyncEvent","_ref9","triggerSyncEvent","onMouseEnter","mouse","getMouseInfo","_nextState","onMouseMove","nextState","el","activeItem","tooltipPayload","tooltipPosition","persist","triggeredAfterMouseMove","onMouseLeave","cancelThrottledTriggerAfterMouseMove","eventName","event","changedTouches","handler","onClick","_nextState2","onMouseDown","_nextState3","onMouseUp","_nextState4","handleMouseMove","handleMouseDown","handleMouseUp","_ref10","syncWithTicks","viewBox","_ref11","element","_this$state2","tooltipEventType","getTooltipEventType","cursor","restProps","cursorComp","_getRadialCursorPoint","startAngle","endAngle","innerRadius","outerRadius","points","cursorProps","stroke","pointerEvents","payloadIndex","className","axisOption","xAxisId","renderAxis","yAxisId","_this$state3","_this$props","yAxisWithFiniteDomain","chartWidth","chartHeight","verticalCoordinatesGenerator","horizontalCoordinatesGenerator","_element$props","radialLines","polarAngles","polarRadius","_this$state4","radiusAxisMap","angleAxisMap","radiusAxis","angleAxis","_this$props2","legendWidth","otherProps","onBBoxUpdate","handleLegendBBoxUpdate","tooltipItem","_this$state5","active","label","_this$props3","_this$state6","onChange","handleBrushChange","_assertThisInitialize","clipPathId","_this$state7","_element$props2","_ref12","activePoint","basePoint","isRange","_item$item$props","activeDot","dotProps","fill","strokeWidth","renderActiveDot","filterFormatItem","_this$state8","_item$props2","baseLine","_item$item$props2","activeBar","activeShape","hasActive","itemEvents","trigger","handleItemMouseEnter","onCLick","handleItemMouseLeave","graphicalItem","findWithPayload","specifiedKey","renderActivePoints","_this$getItemByXY","_ref13","getItemByXY","_ref13$graphicalItem","_ref13$graphicalItem$","xyItem","elementProps","throttleDelay","componentDidMount","_this$props$margin$le","_this$props$margin$to","addListener","accessibilityManager","setDetails","container","coordinateList","mouseHandlerCallback","getSnapshotBeforeUpdate","prevProps","accessibilityLayer","_this$props$margin$le2","_this$props$margin$to2","componentDidUpdate","removeListener","componentWillUnmount","cancel","shared","eventType","_element$getBoundingC","containerOffset","boundingRectWidth","getBoundingClientRect","offsetWidth","inRange","_this$state9","xScale","yScale","xValue","invert","yValue","toolTipData","scaledX","scaledY","isInRange","_this$state10","parseEventsOfWrapper","tooltipEvents","handleClick","handleMouseEnter","handleMouseLeave","onTouchMove","handleTouchMove","onTouchStart","handleTouchStart","onTouchEnd","handleTouchEnd","outerEvents","handleOuterEvent","on","handleReceiveSyncEvent","setMaxListeners","_maxListeners","emit","_this$props4","syncMethod","_this$state11","validateChartX","Math","min","validateChartY","axisOptions","_this$props5","ticksGenerator","axesTicksGenerator","renderClipPath","_this$state$offset","getXScales","_ref14","_ref15","axisProps","getYScales","_ref16","_ref17","getXScaleByAxisId","_this$state$xAxisMap","getYScaleByAxisId","_this$state$yAxisMap","chartXY","_this$state12","itemDisplayName","activeBarItem","_activeBarItem","activeTooltipItem","render","_this2","_this$props6","style","compact","title","desc","others","attrs","CartesianGrid","renderGrid","once","ReferenceArea","renderReferenceElement","ReferenceLine","ReferenceDot","XAxis","renderXAxis","YAxis","renderYAxis","renderBrush","Bar","renderGraphicChild","Line","Area","Radar","RadialBar","Scatter","Pie","Funnel","renderCursor","PolarGrid","renderPolarGrid","PolarAngleAxis","renderPolarAxis","PolarRadiusAxis","Customized","renderCustomized","_2","_img","tabIndex","role","onKeyDown","keyboardEvent","onFocus","focus","events","ref","node","renderLegend","renderTooltip","nextProps","defaultState","prevData","prevWidth","prevHeight","prevLayout","prevStackOffset","prevMargin","prevChildren","_defaultState","keepFromPrevState","updatesToState","newState","hasGlobalData","newUpdateId","option","dot"],"sources":["C:/Users/Ashwini/AndroidStudioProjects/web102_unit7lab-main/teammates/node_modules/recharts/es6/chart/generateCategoricalChart.js"],"sourcesContent":["import _every from \"lodash/every\";\nimport _find from \"lodash/find\";\nimport _isFunction from \"lodash/isFunction\";\nimport _throttle from \"lodash/throttle\";\nimport _sortBy from \"lodash/sortBy\";\nimport _get from \"lodash/get\";\nimport _isNil from \"lodash/isNil\";\nimport _range from \"lodash/range\";\nimport _isBoolean from \"lodash/isBoolean\";\nimport _isArray from \"lodash/isArray\";\nvar _excluded = [\"item\"],\n  _excluded2 = [\"children\", \"className\", \"width\", \"height\", \"style\", \"compact\", \"title\", \"desc\"];\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nimport React, { Component, cloneElement, isValidElement, createElement } from 'react';\nimport classNames from 'classnames';\nimport invariant from 'tiny-invariant';\nimport { getRadialCursorPoints } from '../util/cursor/getRadialCursorPoints';\nimport { getTicks } from '../cartesian/getTicks';\nimport { Surface } from '../container/Surface';\nimport { Layer } from '../container/Layer';\nimport { Tooltip } from '../component/Tooltip';\nimport { Legend } from '../component/Legend';\nimport { Curve } from '../shape/Curve';\nimport { Cross } from '../shape/Cross';\nimport { Sector } from '../shape/Sector';\nimport { Dot } from '../shape/Dot';\nimport { isInRectangle, Rectangle } from '../shape/Rectangle';\nimport { findAllByType, findChildByType, getDisplayName, parseChildIndex, validateWidthHeight, isChildrenEqual, renderByOrder, getReactEventByType, filterProps } from '../util/ReactUtils';\nimport { CartesianAxis } from '../cartesian/CartesianAxis';\nimport { Brush } from '../cartesian/Brush';\nimport { getOffset, calculateChartCoordinate } from '../util/DOMUtils';\nimport { getAnyElementOfObject, hasDuplicate, uniqueId, isNumber, findEntryInArray } from '../util/DataUtils';\nimport { calculateActiveTickIndex, getMainColorOfGraphicItem, getBarSizeList, getBarPosition, appendOffsetOfLegend, getLegendProps, combineEventHandlers, getTicksOfAxis, getCoordinatesOfGrid, getStackedDataOfItem, parseErrorBarsOfAxis, getBandSizeOfAxis, getStackGroupsByAxisId, isCategoricalAxis, getDomainOfItemsWithSameAxis, getDomainOfStackGroups, getDomainOfDataByKey, parseSpecifiedDomain, parseDomainOfCategoryAxis, getTooltipItem } from '../util/ChartUtils';\nimport { detectReferenceElementsDomain } from '../util/DetectReferenceElementsDomain';\nimport { inRangeOfSector, polarToCartesian } from '../util/PolarUtils';\nimport { shallowEqual } from '../util/ShallowEqual';\nimport { eventCenter, SYNC_EVENT } from '../util/Events';\nimport { adaptEventHandlers } from '../util/types';\nimport { AccessibilityManager } from './AccessibilityManager';\nimport { isDomainSpecifiedByUser } from '../util/isDomainSpecifiedByUser';\nimport { deferer } from '../util/deferer';\nimport { getActiveShapeIndexForTooltip, isFunnel, isPie, isScatter } from '../util/ActiveShapeUtils';\nimport { getCursorPoints } from '../util/cursor/getCursorPoints';\nimport { getCursorRectangle } from '../util/cursor/getCursorRectangle';\nvar ORIENT_MAP = {\n  xAxis: ['bottom', 'top'],\n  yAxis: ['left', 'right']\n};\nvar originCoordinate = {\n  x: 0,\n  y: 0\n};\n\n// use legacy isFinite only if there is a problem (aka IE)\n// eslint-disable-next-line no-restricted-globals\nvar isFinit = Number.isFinite ? Number.isFinite : isFinite;\nvar calculateTooltipPos = function calculateTooltipPos(rangeObj, layout) {\n  if (layout === 'horizontal') {\n    return rangeObj.x;\n  }\n  if (layout === 'vertical') {\n    return rangeObj.y;\n  }\n  if (layout === 'centric') {\n    return rangeObj.angle;\n  }\n  return rangeObj.radius;\n};\nvar getActiveCoordinate = function getActiveCoordinate(layout, tooltipTicks, activeIndex, rangeObj) {\n  var entry = tooltipTicks.find(function (tick) {\n    return tick && tick.index === activeIndex;\n  });\n  if (entry) {\n    if (layout === 'horizontal') {\n      return {\n        x: entry.coordinate,\n        y: rangeObj.y\n      };\n    }\n    if (layout === 'vertical') {\n      return {\n        x: rangeObj.x,\n        y: entry.coordinate\n      };\n    }\n    if (layout === 'centric') {\n      var _angle = entry.coordinate;\n      var _radius = rangeObj.radius;\n      return _objectSpread(_objectSpread(_objectSpread({}, rangeObj), polarToCartesian(rangeObj.cx, rangeObj.cy, _radius, _angle)), {}, {\n        angle: _angle,\n        radius: _radius\n      });\n    }\n    var radius = entry.coordinate;\n    var angle = rangeObj.angle;\n    return _objectSpread(_objectSpread(_objectSpread({}, rangeObj), polarToCartesian(rangeObj.cx, rangeObj.cy, radius, angle)), {}, {\n      angle: angle,\n      radius: radius\n    });\n  }\n  return originCoordinate;\n};\nvar getDisplayedData = function getDisplayedData(data, _ref, item) {\n  var graphicalItems = _ref.graphicalItems,\n    dataStartIndex = _ref.dataStartIndex,\n    dataEndIndex = _ref.dataEndIndex;\n  var itemsData = (graphicalItems || []).reduce(function (result, child) {\n    var itemData = child.props.data;\n    if (itemData && itemData.length) {\n      return [].concat(_toConsumableArray(result), _toConsumableArray(itemData));\n    }\n    return result;\n  }, []);\n  if (itemsData && itemsData.length > 0) {\n    return itemsData;\n  }\n  if (item && item.props && item.props.data && item.props.data.length > 0) {\n    return item.props.data;\n  }\n  if (data && data.length && isNumber(dataStartIndex) && isNumber(dataEndIndex)) {\n    return data.slice(dataStartIndex, dataEndIndex + 1);\n  }\n  return [];\n};\nfunction getDefaultDomainByAxisType(axisType) {\n  return axisType === 'number' ? [0, 'auto'] : undefined;\n}\n\n/**\n * Get the content to be displayed in the tooltip\n * @param  {Object} state          Current state\n * @param  {Array}  chartData      The data defined in chart\n * @param  {Number} activeIndex    Active index of data\n * @param  {String} activeLabel    Active label of data\n * @return {Array}                 The content of tooltip\n */\nvar getTooltipContent = function getTooltipContent(state, chartData, activeIndex, activeLabel) {\n  var graphicalItems = state.graphicalItems,\n    tooltipAxis = state.tooltipAxis;\n  var displayedData = getDisplayedData(chartData, state);\n  if (activeIndex < 0 || !graphicalItems || !graphicalItems.length || activeIndex >= displayedData.length) {\n    return null;\n  }\n  // get data by activeIndex when the axis don't allow duplicated category\n  return graphicalItems.reduce(function (result, child) {\n    var hide = child.props.hide;\n    if (hide) {\n      return result;\n    }\n\n    /**\n     * Fixes: https://github.com/recharts/recharts/issues/3669\n     * Defaulting to chartData below to fix an edge case where the tooltip does not include data from all charts\n     * when a separate dataset is passed to chart prop data and specified on Line/Area/etc prop data\n     */\n    var _child$props$data = child.props.data,\n      data = _child$props$data === void 0 ? chartData : _child$props$data;\n    var payload;\n    if (tooltipAxis.dataKey && !tooltipAxis.allowDuplicatedCategory) {\n      // graphic child has data props\n      var entries = data === undefined ? displayedData : data;\n      payload = findEntryInArray(entries, tooltipAxis.dataKey, activeLabel);\n    } else {\n      payload = data && data[activeIndex] || displayedData[activeIndex];\n    }\n    if (!payload) {\n      return result;\n    }\n    return [].concat(_toConsumableArray(result), [getTooltipItem(child, payload)]);\n  }, []);\n};\n\n/**\n * Returns tooltip data based on a mouse position (as a parameter or in state)\n * @param  {Object} state     current state\n * @param  {Array}  chartData the data defined in chart\n * @param  {String} layout     The layout type of chart\n * @param  {Object} rangeObj  { x, y } coordinates\n * @return {Object}           Tooltip data data\n */\nvar getTooltipData = function getTooltipData(state, chartData, layout, rangeObj) {\n  var rangeData = rangeObj || {\n    x: state.chartX,\n    y: state.chartY\n  };\n  var pos = calculateTooltipPos(rangeData, layout);\n  var ticks = state.orderedTooltipTicks,\n    axis = state.tooltipAxis,\n    tooltipTicks = state.tooltipTicks;\n  var activeIndex = calculateActiveTickIndex(pos, ticks, tooltipTicks, axis);\n  if (activeIndex >= 0 && tooltipTicks) {\n    var activeLabel = tooltipTicks[activeIndex] && tooltipTicks[activeIndex].value;\n    var activePayload = getTooltipContent(state, chartData, activeIndex, activeLabel);\n    var activeCoordinate = getActiveCoordinate(layout, ticks, activeIndex, rangeData);\n    return {\n      activeTooltipIndex: activeIndex,\n      activeLabel: activeLabel,\n      activePayload: activePayload,\n      activeCoordinate: activeCoordinate\n    };\n  }\n  return null;\n};\n\n/**\n * Get the configuration of axis by the options of axis instance\n * @param  {Object} props         Latest props\n * @param {Array}  axes           The instance of axes\n * @param  {Array} graphicalItems The instances of item\n * @param  {String} axisType      The type of axis, xAxis - x-axis, yAxis - y-axis\n * @param  {String} axisIdKey     The unique id of an axis\n * @param  {Object} stackGroups   The items grouped by axisId and stackId\n * @param {Number} dataStartIndex The start index of the data series when a brush is applied\n * @param {Number} dataEndIndex   The end index of the data series when a brush is applied\n * @return {Object}      Configuration\n */\nexport var getAxisMapByAxes = function getAxisMapByAxes(props, _ref2) {\n  var axes = _ref2.axes,\n    graphicalItems = _ref2.graphicalItems,\n    axisType = _ref2.axisType,\n    axisIdKey = _ref2.axisIdKey,\n    stackGroups = _ref2.stackGroups,\n    dataStartIndex = _ref2.dataStartIndex,\n    dataEndIndex = _ref2.dataEndIndex;\n  var layout = props.layout,\n    children = props.children,\n    stackOffset = props.stackOffset;\n  var isCategorical = isCategoricalAxis(layout, axisType);\n\n  // Eliminate duplicated axes\n  var axisMap = axes.reduce(function (result, child) {\n    var _child$props$domain2;\n    var _child$props = child.props,\n      type = _child$props.type,\n      dataKey = _child$props.dataKey,\n      allowDataOverflow = _child$props.allowDataOverflow,\n      allowDuplicatedCategory = _child$props.allowDuplicatedCategory,\n      scale = _child$props.scale,\n      ticks = _child$props.ticks,\n      includeHidden = _child$props.includeHidden;\n    var axisId = child.props[axisIdKey];\n    if (result[axisId]) {\n      return result;\n    }\n    var displayedData = getDisplayedData(props.data, {\n      graphicalItems: graphicalItems.filter(function (item) {\n        return item.props[axisIdKey] === axisId;\n      }),\n      dataStartIndex: dataStartIndex,\n      dataEndIndex: dataEndIndex\n    });\n    var len = displayedData.length;\n    var domain, duplicateDomain, categoricalDomain;\n\n    /*\n     * This is a hack to short-circuit the domain creation here to enhance performance.\n     * Usually, the data is used to determine the domain, but when the user specifies\n     * a domain upfront (via props), there is no need to calculate the domain start and end,\n     * which is very expensive for a larger amount of data.\n     * The only thing that would prohibit short-circuiting is when the user doesn't allow data overflow,\n     * because the axis is supposed to ignore the specified domain that way.\n     */\n    if (isDomainSpecifiedByUser(child.props.domain, allowDataOverflow, type)) {\n      domain = parseSpecifiedDomain(child.props.domain, null, allowDataOverflow);\n      /* The chart can be categorical and have the domain specified in numbers\n       * we still need to calculate the categorical domain\n       * TODO: refactor this more\n       */\n      if (isCategorical && (type === 'number' || scale !== 'auto')) {\n        categoricalDomain = getDomainOfDataByKey(displayedData, dataKey, 'category');\n      }\n    }\n\n    // if the domain is defaulted we need this for `originalDomain` as well\n    var defaultDomain = getDefaultDomainByAxisType(type);\n\n    // we didn't create the domain from user's props above, so we need to calculate it\n    if (!domain || domain.length === 0) {\n      var _child$props$domain;\n      var childDomain = (_child$props$domain = child.props.domain) !== null && _child$props$domain !== void 0 ? _child$props$domain : defaultDomain;\n      if (dataKey) {\n        // has dataKey in <Axis />\n        domain = getDomainOfDataByKey(displayedData, dataKey, type);\n        if (type === 'category' && isCategorical) {\n          // the field type is category data and this axis is categorical axis\n          var duplicate = hasDuplicate(domain);\n          if (allowDuplicatedCategory && duplicate) {\n            duplicateDomain = domain;\n            // When category axis has duplicated text, serial numbers are used to generate scale\n            domain = _range(0, len);\n          } else if (!allowDuplicatedCategory) {\n            // remove duplicated category\n            domain = parseDomainOfCategoryAxis(childDomain, domain, child).reduce(function (finalDomain, entry) {\n              return finalDomain.indexOf(entry) >= 0 ? finalDomain : [].concat(_toConsumableArray(finalDomain), [entry]);\n            }, []);\n          }\n        } else if (type === 'category') {\n          // the field type is category data and this axis is numerical axis\n          if (!allowDuplicatedCategory) {\n            domain = parseDomainOfCategoryAxis(childDomain, domain, child).reduce(function (finalDomain, entry) {\n              return finalDomain.indexOf(entry) >= 0 || entry === '' || _isNil(entry) ? finalDomain : [].concat(_toConsumableArray(finalDomain), [entry]);\n            }, []);\n          } else {\n            // eliminate undefined or null or empty string\n            domain = domain.filter(function (entry) {\n              return entry !== '' && !_isNil(entry);\n            });\n          }\n        } else if (type === 'number') {\n          // the field type is numerical\n          var errorBarsDomain = parseErrorBarsOfAxis(displayedData, graphicalItems.filter(function (item) {\n            return item.props[axisIdKey] === axisId && (includeHidden || !item.props.hide);\n          }), dataKey, axisType, layout);\n          if (errorBarsDomain) {\n            domain = errorBarsDomain;\n          }\n        }\n        if (isCategorical && (type === 'number' || scale !== 'auto')) {\n          categoricalDomain = getDomainOfDataByKey(displayedData, dataKey, 'category');\n        }\n      } else if (isCategorical) {\n        // the axis is a categorical axis\n        domain = _range(0, len);\n      } else if (stackGroups && stackGroups[axisId] && stackGroups[axisId].hasStack && type === 'number') {\n        // when stackOffset is 'expand', the domain may be calculated as [0, 1.000000000002]\n        domain = stackOffset === 'expand' ? [0, 1] : getDomainOfStackGroups(stackGroups[axisId].stackGroups, dataStartIndex, dataEndIndex);\n      } else {\n        domain = getDomainOfItemsWithSameAxis(displayedData, graphicalItems.filter(function (item) {\n          return item.props[axisIdKey] === axisId && (includeHidden || !item.props.hide);\n        }), type, layout, true);\n      }\n      if (type === 'number') {\n        // To detect wether there is any reference lines whose props alwaysShow is true\n        domain = detectReferenceElementsDomain(children, domain, axisId, axisType, ticks);\n        if (childDomain) {\n          domain = parseSpecifiedDomain(childDomain, domain, allowDataOverflow);\n        }\n      } else if (type === 'category' && childDomain) {\n        var axisDomain = childDomain;\n        var isDomainValid = domain.every(function (entry) {\n          return axisDomain.indexOf(entry) >= 0;\n        });\n        if (isDomainValid) {\n          domain = axisDomain;\n        }\n      }\n    }\n    return _objectSpread(_objectSpread({}, result), {}, _defineProperty({}, axisId, _objectSpread(_objectSpread({}, child.props), {}, {\n      axisType: axisType,\n      domain: domain,\n      categoricalDomain: categoricalDomain,\n      duplicateDomain: duplicateDomain,\n      originalDomain: (_child$props$domain2 = child.props.domain) !== null && _child$props$domain2 !== void 0 ? _child$props$domain2 : defaultDomain,\n      isCategorical: isCategorical,\n      layout: layout\n    })));\n  }, {});\n  return axisMap;\n};\n\n/**\n * Get the configuration of axis by the options of item,\n * this kind of axis does not display in chart\n * @param  {Object} props         Latest props\n * @param  {Array} graphicalItems The instances of item\n * @param  {ReactElement} Axis    Axis Component\n * @param  {String} axisType      The type of axis, xAxis - x-axis, yAxis - y-axis\n * @param  {String} axisIdKey     The unique id of an axis\n * @param  {Object} stackGroups   The items grouped by axisId and stackId\n * @param {Number} dataStartIndex The start index of the data series when a brush is applied\n * @param {Number} dataEndIndex   The end index of the data series when a brush is applied\n * @return {Object}               Configuration\n */\nvar getAxisMapByItems = function getAxisMapByItems(props, _ref3) {\n  var graphicalItems = _ref3.graphicalItems,\n    Axis = _ref3.Axis,\n    axisType = _ref3.axisType,\n    axisIdKey = _ref3.axisIdKey,\n    stackGroups = _ref3.stackGroups,\n    dataStartIndex = _ref3.dataStartIndex,\n    dataEndIndex = _ref3.dataEndIndex;\n  var layout = props.layout,\n    children = props.children;\n  var displayedData = getDisplayedData(props.data, {\n    graphicalItems: graphicalItems,\n    dataStartIndex: dataStartIndex,\n    dataEndIndex: dataEndIndex\n  });\n  var len = displayedData.length;\n  var isCategorical = isCategoricalAxis(layout, axisType);\n  var index = -1;\n\n  // The default type of x-axis is category axis,\n  // The default contents of x-axis is the serial numbers of data\n  // The default type of y-axis is number axis\n  // The default contents of y-axis is the domain of data\n  var axisMap = graphicalItems.reduce(function (result, child) {\n    var axisId = child.props[axisIdKey];\n    var originalDomain = getDefaultDomainByAxisType('number');\n    if (!result[axisId]) {\n      index++;\n      var domain;\n      if (isCategorical) {\n        domain = _range(0, len);\n      } else if (stackGroups && stackGroups[axisId] && stackGroups[axisId].hasStack) {\n        domain = getDomainOfStackGroups(stackGroups[axisId].stackGroups, dataStartIndex, dataEndIndex);\n        domain = detectReferenceElementsDomain(children, domain, axisId, axisType);\n      } else {\n        domain = parseSpecifiedDomain(originalDomain, getDomainOfItemsWithSameAxis(displayedData, graphicalItems.filter(function (item) {\n          return item.props[axisIdKey] === axisId && !item.props.hide;\n        }), 'number', layout), Axis.defaultProps.allowDataOverflow);\n        domain = detectReferenceElementsDomain(children, domain, axisId, axisType);\n      }\n      return _objectSpread(_objectSpread({}, result), {}, _defineProperty({}, axisId, _objectSpread(_objectSpread({\n        axisType: axisType\n      }, Axis.defaultProps), {}, {\n        hide: true,\n        orientation: _get(ORIENT_MAP, \"\".concat(axisType, \".\").concat(index % 2), null),\n        domain: domain,\n        originalDomain: originalDomain,\n        isCategorical: isCategorical,\n        layout: layout\n        // specify scale when no Axis\n        // scale: isCategorical ? 'band' : 'linear',\n      })));\n    }\n\n    return result;\n  }, {});\n  return axisMap;\n};\n\n/**\n * Get the configuration of all x-axis or y-axis\n * @param  {Object} props          Latest props\n * @param  {String} axisType       The type of axis\n * @param  {Array}  graphicalItems The instances of item\n * @param  {Object} stackGroups    The items grouped by axisId and stackId\n * @param {Number} dataStartIndex  The start index of the data series when a brush is applied\n * @param {Number} dataEndIndex    The end index of the data series when a brush is applied\n * @return {Object}          Configuration\n */\nvar getAxisMap = function getAxisMap(props, _ref4) {\n  var _ref4$axisType = _ref4.axisType,\n    axisType = _ref4$axisType === void 0 ? 'xAxis' : _ref4$axisType,\n    AxisComp = _ref4.AxisComp,\n    graphicalItems = _ref4.graphicalItems,\n    stackGroups = _ref4.stackGroups,\n    dataStartIndex = _ref4.dataStartIndex,\n    dataEndIndex = _ref4.dataEndIndex;\n  var children = props.children;\n  var axisIdKey = \"\".concat(axisType, \"Id\");\n  // Get all the instance of Axis\n  var axes = findAllByType(children, AxisComp);\n  var axisMap = {};\n  if (axes && axes.length) {\n    axisMap = getAxisMapByAxes(props, {\n      axes: axes,\n      graphicalItems: graphicalItems,\n      axisType: axisType,\n      axisIdKey: axisIdKey,\n      stackGroups: stackGroups,\n      dataStartIndex: dataStartIndex,\n      dataEndIndex: dataEndIndex\n    });\n  } else if (graphicalItems && graphicalItems.length) {\n    axisMap = getAxisMapByItems(props, {\n      Axis: AxisComp,\n      graphicalItems: graphicalItems,\n      axisType: axisType,\n      axisIdKey: axisIdKey,\n      stackGroups: stackGroups,\n      dataStartIndex: dataStartIndex,\n      dataEndIndex: dataEndIndex\n    });\n  }\n  return axisMap;\n};\nvar tooltipTicksGenerator = function tooltipTicksGenerator(axisMap) {\n  var axis = getAnyElementOfObject(axisMap);\n  var tooltipTicks = getTicksOfAxis(axis, false, true);\n  return {\n    tooltipTicks: tooltipTicks,\n    orderedTooltipTicks: _sortBy(tooltipTicks, function (o) {\n      return o.coordinate;\n    }),\n    tooltipAxis: axis,\n    tooltipAxisBandSize: getBandSizeOfAxis(axis, tooltipTicks)\n  };\n};\n\n/**\n * Returns default, reset state for the categorical chart.\n * @param {Object} props Props object to use when creating the default state\n * @return {Object} Whole new state\n */\nvar createDefaultState = function createDefaultState(props) {\n  var _brushItem$props, _brushItem$props2;\n  var children = props.children,\n    defaultShowTooltip = props.defaultShowTooltip;\n  var brushItem = findChildByType(children, Brush);\n  var startIndex = brushItem && brushItem.props && brushItem.props.startIndex || 0;\n  var endIndex = (brushItem === null || brushItem === void 0 || (_brushItem$props = brushItem.props) === null || _brushItem$props === void 0 ? void 0 : _brushItem$props.endIndex) !== undefined ? brushItem === null || brushItem === void 0 || (_brushItem$props2 = brushItem.props) === null || _brushItem$props2 === void 0 ? void 0 : _brushItem$props2.endIndex : props.data && props.data.length - 1 || 0;\n  return {\n    chartX: 0,\n    chartY: 0,\n    dataStartIndex: startIndex,\n    dataEndIndex: endIndex,\n    activeTooltipIndex: -1,\n    isTooltipActive: !_isNil(defaultShowTooltip) ? defaultShowTooltip : false\n  };\n};\nvar hasGraphicalBarItem = function hasGraphicalBarItem(graphicalItems) {\n  if (!graphicalItems || !graphicalItems.length) {\n    return false;\n  }\n  return graphicalItems.some(function (item) {\n    var name = getDisplayName(item && item.type);\n    return name && name.indexOf('Bar') >= 0;\n  });\n};\nvar getAxisNameByLayout = function getAxisNameByLayout(layout) {\n  if (layout === 'horizontal') {\n    return {\n      numericAxisName: 'yAxis',\n      cateAxisName: 'xAxis'\n    };\n  }\n  if (layout === 'vertical') {\n    return {\n      numericAxisName: 'xAxis',\n      cateAxisName: 'yAxis'\n    };\n  }\n  if (layout === 'centric') {\n    return {\n      numericAxisName: 'radiusAxis',\n      cateAxisName: 'angleAxis'\n    };\n  }\n  return {\n    numericAxisName: 'angleAxis',\n    cateAxisName: 'radiusAxis'\n  };\n};\n\n/**\n * Calculate the offset of main part in the svg element\n * @param  {Object} params.props          Latest props\n * @param  {Array}  params.graphicalItems The instances of item\n * @param  {Object} params.xAxisMap       The configuration of x-axis\n * @param  {Object} params.yAxisMap       The configuration of y-axis\n * @param  {Object} prevLegendBBox        The boundary box of legend\n * @return {Object} The offset of main part in the svg element\n */\nvar calculateOffset = function calculateOffset(_ref5, prevLegendBBox) {\n  var props = _ref5.props,\n    graphicalItems = _ref5.graphicalItems,\n    _ref5$xAxisMap = _ref5.xAxisMap,\n    xAxisMap = _ref5$xAxisMap === void 0 ? {} : _ref5$xAxisMap,\n    _ref5$yAxisMap = _ref5.yAxisMap,\n    yAxisMap = _ref5$yAxisMap === void 0 ? {} : _ref5$yAxisMap;\n  var width = props.width,\n    height = props.height,\n    children = props.children;\n  var margin = props.margin || {};\n  var brushItem = findChildByType(children, Brush);\n  var legendItem = findChildByType(children, Legend);\n  var offsetH = Object.keys(yAxisMap).reduce(function (result, id) {\n    var entry = yAxisMap[id];\n    var orientation = entry.orientation;\n    if (!entry.mirror && !entry.hide) {\n      return _objectSpread(_objectSpread({}, result), {}, _defineProperty({}, orientation, result[orientation] + entry.width));\n    }\n    return result;\n  }, {\n    left: margin.left || 0,\n    right: margin.right || 0\n  });\n  var offsetV = Object.keys(xAxisMap).reduce(function (result, id) {\n    var entry = xAxisMap[id];\n    var orientation = entry.orientation;\n    if (!entry.mirror && !entry.hide) {\n      return _objectSpread(_objectSpread({}, result), {}, _defineProperty({}, orientation, _get(result, \"\".concat(orientation)) + entry.height));\n    }\n    return result;\n  }, {\n    top: margin.top || 0,\n    bottom: margin.bottom || 0\n  });\n  var offset = _objectSpread(_objectSpread({}, offsetV), offsetH);\n  var brushBottom = offset.bottom;\n  if (brushItem) {\n    offset.bottom += brushItem.props.height || Brush.defaultProps.height;\n  }\n  if (legendItem && prevLegendBBox) {\n    // @ts-expect-error margin is optional in props but required in appendOffsetOfLegend\n    offset = appendOffsetOfLegend(offset, graphicalItems, props, prevLegendBBox);\n  }\n  return _objectSpread(_objectSpread({\n    brushBottom: brushBottom\n  }, offset), {}, {\n    width: width - offset.left - offset.right,\n    height: height - offset.top - offset.bottom\n  });\n};\nexport var generateCategoricalChart = function generateCategoricalChart(_ref6) {\n  var _class;\n  var chartName = _ref6.chartName,\n    GraphicalChild = _ref6.GraphicalChild,\n    _ref6$defaultTooltipE = _ref6.defaultTooltipEventType,\n    defaultTooltipEventType = _ref6$defaultTooltipE === void 0 ? 'axis' : _ref6$defaultTooltipE,\n    _ref6$validateTooltip = _ref6.validateTooltipEventTypes,\n    validateTooltipEventTypes = _ref6$validateTooltip === void 0 ? ['axis'] : _ref6$validateTooltip,\n    axisComponents = _ref6.axisComponents,\n    legendContent = _ref6.legendContent,\n    formatAxisMap = _ref6.formatAxisMap,\n    defaultProps = _ref6.defaultProps;\n  var getFormatItems = function getFormatItems(props, currentState) {\n    var graphicalItems = currentState.graphicalItems,\n      stackGroups = currentState.stackGroups,\n      offset = currentState.offset,\n      updateId = currentState.updateId,\n      dataStartIndex = currentState.dataStartIndex,\n      dataEndIndex = currentState.dataEndIndex;\n    var barSize = props.barSize,\n      layout = props.layout,\n      barGap = props.barGap,\n      barCategoryGap = props.barCategoryGap,\n      globalMaxBarSize = props.maxBarSize;\n    var _getAxisNameByLayout = getAxisNameByLayout(layout),\n      numericAxisName = _getAxisNameByLayout.numericAxisName,\n      cateAxisName = _getAxisNameByLayout.cateAxisName;\n    var hasBar = hasGraphicalBarItem(graphicalItems);\n    var sizeList = hasBar && getBarSizeList({\n      barSize: barSize,\n      stackGroups: stackGroups\n    });\n    var formattedItems = [];\n    graphicalItems.forEach(function (item, index) {\n      var displayedData = getDisplayedData(props.data, {\n        dataStartIndex: dataStartIndex,\n        dataEndIndex: dataEndIndex\n      }, item);\n      var _item$props = item.props,\n        dataKey = _item$props.dataKey,\n        childMaxBarSize = _item$props.maxBarSize;\n      // axisId of the numerical axis\n      var numericAxisId = item.props[\"\".concat(numericAxisName, \"Id\")];\n      // axisId of the categorical axis\n      var cateAxisId = item.props[\"\".concat(cateAxisName, \"Id\")];\n      var axisObjInitialValue = {};\n      var axisObj = axisComponents.reduce(function (result, entry) {\n        var _item$type$displayNam, _item$type, _objectSpread6;\n        // map of axisId to axis for a specific axis type\n        var axisMap = currentState[\"\".concat(entry.axisType, \"Map\")];\n        // axisId of axis we are currently computing\n        var id = item.props[\"\".concat(entry.axisType, \"Id\")];\n\n        /**\n         * tell the user in dev mode that their configuration is incorrect if we cannot find a match between\n         * axisId on the chart and axisId on the axis. zAxis does not get passed in the map for ComposedChart,\n         * leave it out of the check for now.\n         */\n        !(axisMap && axisMap[id] || entry.axisType === 'zAxis') ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Specifying a(n) \".concat(entry.axisType, \"Id requires a corresponding \").concat(entry.axisType\n        // @ts-expect-error we should stop reading data from ReactElements\n        , \"Id on the targeted graphical component \").concat((_item$type$displayNam = item === null || item === void 0 || (_item$type = item.type) === null || _item$type === void 0 ? void 0 : _item$type.displayName) !== null && _item$type$displayNam !== void 0 ? _item$type$displayNam : '')) : invariant(false) : void 0;\n\n        // the axis we are currently formatting\n        var axis = axisMap[id];\n        return _objectSpread(_objectSpread({}, result), {}, (_objectSpread6 = {}, _defineProperty(_objectSpread6, entry.axisType, axis), _defineProperty(_objectSpread6, \"\".concat(entry.axisType, \"Ticks\"), getTicksOfAxis(axis)), _objectSpread6));\n      }, axisObjInitialValue);\n      var cateAxis = axisObj[cateAxisName];\n      var cateTicks = axisObj[\"\".concat(cateAxisName, \"Ticks\")];\n      var stackedData = stackGroups && stackGroups[numericAxisId] && stackGroups[numericAxisId].hasStack && getStackedDataOfItem(item, stackGroups[numericAxisId].stackGroups);\n      var itemIsBar = getDisplayName(item.type).indexOf('Bar') >= 0;\n      var bandSize = getBandSizeOfAxis(cateAxis, cateTicks);\n      var barPosition = [];\n      if (itemIsBar) {\n        var _ref7, _getBandSizeOfAxis;\n        // 如果是bar，计算bar的位置\n        var maxBarSize = _isNil(childMaxBarSize) ? globalMaxBarSize : childMaxBarSize;\n        var barBandSize = (_ref7 = (_getBandSizeOfAxis = getBandSizeOfAxis(cateAxis, cateTicks, true)) !== null && _getBandSizeOfAxis !== void 0 ? _getBandSizeOfAxis : maxBarSize) !== null && _ref7 !== void 0 ? _ref7 : 0;\n        barPosition = getBarPosition({\n          barGap: barGap,\n          barCategoryGap: barCategoryGap,\n          bandSize: barBandSize !== bandSize ? barBandSize : bandSize,\n          sizeList: sizeList[cateAxisId],\n          maxBarSize: maxBarSize\n        });\n        if (barBandSize !== bandSize) {\n          barPosition = barPosition.map(function (pos) {\n            return _objectSpread(_objectSpread({}, pos), {}, {\n              position: _objectSpread(_objectSpread({}, pos.position), {}, {\n                offset: pos.position.offset - barBandSize / 2\n              })\n            });\n          });\n        }\n      }\n      // @ts-expect-error we should stop reading data from ReactElements\n      var composedFn = item && item.type && item.type.getComposedData;\n      if (composedFn) {\n        var _objectSpread7;\n        formattedItems.push({\n          props: _objectSpread(_objectSpread({}, composedFn(_objectSpread(_objectSpread({}, axisObj), {}, {\n            displayedData: displayedData,\n            props: props,\n            dataKey: dataKey,\n            item: item,\n            bandSize: bandSize,\n            barPosition: barPosition,\n            offset: offset,\n            stackedData: stackedData,\n            layout: layout,\n            dataStartIndex: dataStartIndex,\n            dataEndIndex: dataEndIndex\n          }))), {}, (_objectSpread7 = {\n            key: item.key || \"item-\".concat(index)\n          }, _defineProperty(_objectSpread7, numericAxisName, axisObj[numericAxisName]), _defineProperty(_objectSpread7, cateAxisName, axisObj[cateAxisName]), _defineProperty(_objectSpread7, \"animationId\", updateId), _objectSpread7)),\n          childIndex: parseChildIndex(item, props.children),\n          item: item\n        });\n      }\n    });\n    return formattedItems;\n  };\n\n  /**\n   * The AxisMaps are expensive to render on large data sets\n   * so provide the ability to store them in state and only update them when necessary\n   * they are dependent upon the start and end index of\n   * the brush so it's important that this method is called _after_\n   * the state is updated with any new start/end indices\n   *\n   * @param {Object} props          The props object to be used for updating the axismaps\n   * dataStartIndex: The start index of the data series when a brush is applied\n   * dataEndIndex: The end index of the data series when a brush is applied\n   * updateId: The update id\n   * @param {Object} prevState      Prev state\n   * @return {Object} state New state to set\n   */\n  var updateStateOfAxisMapsOffsetAndStackGroups = function updateStateOfAxisMapsOffsetAndStackGroups(_ref8, prevState) {\n    var props = _ref8.props,\n      dataStartIndex = _ref8.dataStartIndex,\n      dataEndIndex = _ref8.dataEndIndex,\n      updateId = _ref8.updateId;\n    if (!validateWidthHeight({\n      props: props\n    })) {\n      return null;\n    }\n    var children = props.children,\n      layout = props.layout,\n      stackOffset = props.stackOffset,\n      data = props.data,\n      reverseStackOrder = props.reverseStackOrder;\n    var _getAxisNameByLayout2 = getAxisNameByLayout(layout),\n      numericAxisName = _getAxisNameByLayout2.numericAxisName,\n      cateAxisName = _getAxisNameByLayout2.cateAxisName;\n    var graphicalItems = findAllByType(children, GraphicalChild);\n    var stackGroups = getStackGroupsByAxisId(data, graphicalItems, \"\".concat(numericAxisName, \"Id\"), \"\".concat(cateAxisName, \"Id\"), stackOffset, reverseStackOrder);\n    var axisObj = axisComponents.reduce(function (result, entry) {\n      var name = \"\".concat(entry.axisType, \"Map\");\n      return _objectSpread(_objectSpread({}, result), {}, _defineProperty({}, name, getAxisMap(props, _objectSpread(_objectSpread({}, entry), {}, {\n        graphicalItems: graphicalItems,\n        stackGroups: entry.axisType === numericAxisName && stackGroups,\n        dataStartIndex: dataStartIndex,\n        dataEndIndex: dataEndIndex\n      }))));\n    }, {});\n    var offset = calculateOffset(_objectSpread(_objectSpread({}, axisObj), {}, {\n      props: props,\n      graphicalItems: graphicalItems\n    }), prevState === null || prevState === void 0 ? void 0 : prevState.legendBBox);\n    Object.keys(axisObj).forEach(function (key) {\n      axisObj[key] = formatAxisMap(props, axisObj[key], offset, key.replace('Map', ''), chartName);\n    });\n    var cateAxisMap = axisObj[\"\".concat(cateAxisName, \"Map\")];\n    var ticksObj = tooltipTicksGenerator(cateAxisMap);\n    var formattedGraphicalItems = getFormatItems(props, _objectSpread(_objectSpread({}, axisObj), {}, {\n      dataStartIndex: dataStartIndex,\n      dataEndIndex: dataEndIndex,\n      updateId: updateId,\n      graphicalItems: graphicalItems,\n      stackGroups: stackGroups,\n      offset: offset\n    }));\n    return _objectSpread(_objectSpread({\n      formattedGraphicalItems: formattedGraphicalItems,\n      graphicalItems: graphicalItems,\n      offset: offset,\n      stackGroups: stackGroups\n    }, ticksObj), axisObj);\n  };\n  return _class = /*#__PURE__*/function (_Component) {\n    _inherits(CategoricalChartWrapper, _Component);\n    var _super = _createSuper(CategoricalChartWrapper);\n    function CategoricalChartWrapper(_props) {\n      var _this;\n      _classCallCheck(this, CategoricalChartWrapper);\n      _this = _super.call(this, _props);\n      _defineProperty(_assertThisInitialized(_this), \"accessibilityManager\", new AccessibilityManager());\n      _defineProperty(_assertThisInitialized(_this), \"clearDefer\", function () {\n        if (_this.cancelDefer) {\n          _this.cancelDefer();\n          _this.cancelDefer = null;\n        }\n      });\n      _defineProperty(_assertThisInitialized(_this), \"handleLegendBBoxUpdate\", function (box) {\n        if (box) {\n          var _this$state = _this.state,\n            dataStartIndex = _this$state.dataStartIndex,\n            dataEndIndex = _this$state.dataEndIndex,\n            updateId = _this$state.updateId;\n          _this.setState(_objectSpread({\n            legendBBox: box\n          }, updateStateOfAxisMapsOffsetAndStackGroups({\n            props: _this.props,\n            dataStartIndex: dataStartIndex,\n            dataEndIndex: dataEndIndex,\n            updateId: updateId\n          }, _objectSpread(_objectSpread({}, _this.state), {}, {\n            legendBBox: box\n          }))));\n        }\n      });\n      _defineProperty(_assertThisInitialized(_this), \"handleReceiveSyncEvent\", function (cId, chartId, data) {\n        var syncId = _this.props.syncId;\n        if (syncId === cId && chartId !== _this.uniqueChartId) {\n          _this.clearDefer();\n          _this.cancelDefer = deferer(_this.applySyncEvent.bind(_assertThisInitialized(_this), data));\n        }\n      });\n      _defineProperty(_assertThisInitialized(_this), \"handleBrushChange\", function (_ref9) {\n        var startIndex = _ref9.startIndex,\n          endIndex = _ref9.endIndex;\n        // Only trigger changes if the extents of the brush have actually changed\n        if (startIndex !== _this.state.dataStartIndex || endIndex !== _this.state.dataEndIndex) {\n          var updateId = _this.state.updateId;\n          _this.setState(function () {\n            return _objectSpread({\n              dataStartIndex: startIndex,\n              dataEndIndex: endIndex\n            }, updateStateOfAxisMapsOffsetAndStackGroups({\n              props: _this.props,\n              dataStartIndex: startIndex,\n              dataEndIndex: endIndex,\n              updateId: updateId\n            }, _this.state));\n          });\n          _this.triggerSyncEvent({\n            dataStartIndex: startIndex,\n            dataEndIndex: endIndex\n          });\n        }\n      });\n      /**\n       * The handler of mouse entering chart\n       * @param  {Object} e              Event object\n       * @return {Null}                  null\n       */\n      _defineProperty(_assertThisInitialized(_this), \"handleMouseEnter\", function (e) {\n        var onMouseEnter = _this.props.onMouseEnter;\n        var mouse = _this.getMouseInfo(e);\n        if (mouse) {\n          var _nextState = _objectSpread(_objectSpread({}, mouse), {}, {\n            isTooltipActive: true\n          });\n          _this.setState(_nextState);\n          _this.triggerSyncEvent(_nextState);\n          if (_isFunction(onMouseEnter)) {\n            onMouseEnter(_nextState, e);\n          }\n        }\n      });\n      _defineProperty(_assertThisInitialized(_this), \"triggeredAfterMouseMove\", function (e) {\n        var onMouseMove = _this.props.onMouseMove;\n        var mouse = _this.getMouseInfo(e);\n        var nextState = mouse ? _objectSpread(_objectSpread({}, mouse), {}, {\n          isTooltipActive: true\n        }) : {\n          isTooltipActive: false\n        };\n        _this.setState(nextState);\n        _this.triggerSyncEvent(nextState);\n        if (_isFunction(onMouseMove)) {\n          onMouseMove(nextState, e);\n        }\n      });\n      /**\n       * The handler of mouse entering a scatter\n       * @param {Object} el The active scatter\n       * @return {Object} no return\n       */\n      _defineProperty(_assertThisInitialized(_this), \"handleItemMouseEnter\", function (el) {\n        _this.setState(function () {\n          return {\n            isTooltipActive: true,\n            activeItem: el,\n            activePayload: el.tooltipPayload,\n            activeCoordinate: el.tooltipPosition || {\n              x: el.cx,\n              y: el.cy\n            }\n          };\n        });\n      });\n      /**\n       * The handler of mouse leaving a scatter\n       * @return {Object} no return\n       */\n      _defineProperty(_assertThisInitialized(_this), \"handleItemMouseLeave\", function () {\n        _this.setState(function () {\n          return {\n            isTooltipActive: false\n          };\n        });\n      });\n      /**\n       * The handler of mouse moving in chart\n       * @param  {Object} e        Event object\n       * @return {Null} no return\n       */\n      _defineProperty(_assertThisInitialized(_this), \"handleMouseMove\", function (e) {\n        if (e && _isFunction(e.persist)) {\n          e.persist();\n        }\n        _this.triggeredAfterMouseMove(e);\n      });\n      /**\n       * The handler if mouse leaving chart\n       * @param {Object} e Event object\n       * @return {Null} no return\n       */\n      _defineProperty(_assertThisInitialized(_this), \"handleMouseLeave\", function (e) {\n        var onMouseLeave = _this.props.onMouseLeave;\n        var nextState = {\n          isTooltipActive: false\n        };\n        _this.setState(nextState);\n        _this.triggerSyncEvent(nextState);\n        if (_isFunction(onMouseLeave)) {\n          onMouseLeave(nextState, e);\n        }\n        _this.cancelThrottledTriggerAfterMouseMove();\n      });\n      _defineProperty(_assertThisInitialized(_this), \"handleOuterEvent\", function (e) {\n        var eventName = getReactEventByType(e);\n        var event = _get(_this.props, \"\".concat(eventName));\n        if (eventName && _isFunction(event)) {\n          var mouse;\n          if (/.*touch.*/i.test(eventName)) {\n            mouse = _this.getMouseInfo(e.changedTouches[0]);\n          } else {\n            mouse = _this.getMouseInfo(e);\n          }\n          var handler = event;\n          handler(mouse, e);\n        }\n      });\n      _defineProperty(_assertThisInitialized(_this), \"handleClick\", function (e) {\n        var onClick = _this.props.onClick;\n        var mouse = _this.getMouseInfo(e);\n        if (mouse) {\n          var _nextState2 = _objectSpread(_objectSpread({}, mouse), {}, {\n            isTooltipActive: true\n          });\n          _this.setState(_nextState2);\n          _this.triggerSyncEvent(_nextState2);\n          if (_isFunction(onClick)) {\n            onClick(_nextState2, e);\n          }\n        }\n      });\n      _defineProperty(_assertThisInitialized(_this), \"handleMouseDown\", function (e) {\n        var onMouseDown = _this.props.onMouseDown;\n        if (_isFunction(onMouseDown)) {\n          var _nextState3 = _this.getMouseInfo(e);\n          onMouseDown(_nextState3, e);\n        }\n      });\n      _defineProperty(_assertThisInitialized(_this), \"handleMouseUp\", function (e) {\n        var onMouseUp = _this.props.onMouseUp;\n        if (_isFunction(onMouseUp)) {\n          var _nextState4 = _this.getMouseInfo(e);\n          onMouseUp(_nextState4, e);\n        }\n      });\n      _defineProperty(_assertThisInitialized(_this), \"handleTouchMove\", function (e) {\n        if (e.changedTouches != null && e.changedTouches.length > 0) {\n          _this.handleMouseMove(e.changedTouches[0]);\n        }\n      });\n      _defineProperty(_assertThisInitialized(_this), \"handleTouchStart\", function (e) {\n        if (e.changedTouches != null && e.changedTouches.length > 0) {\n          _this.handleMouseDown(e.changedTouches[0]);\n        }\n      });\n      _defineProperty(_assertThisInitialized(_this), \"handleTouchEnd\", function (e) {\n        if (e.changedTouches != null && e.changedTouches.length > 0) {\n          _this.handleMouseUp(e.changedTouches[0]);\n        }\n      });\n      _defineProperty(_assertThisInitialized(_this), \"verticalCoordinatesGenerator\", function (_ref10, syncWithTicks) {\n        var xAxis = _ref10.xAxis,\n          width = _ref10.width,\n          height = _ref10.height,\n          offset = _ref10.offset;\n        return getCoordinatesOfGrid(getTicks(_objectSpread(_objectSpread(_objectSpread({}, CartesianAxis.defaultProps), xAxis), {}, {\n          ticks: getTicksOfAxis(xAxis, true),\n          viewBox: {\n            x: 0,\n            y: 0,\n            width: width,\n            height: height\n          }\n        })), offset.left, offset.left + offset.width, syncWithTicks);\n      });\n      _defineProperty(_assertThisInitialized(_this), \"horizontalCoordinatesGenerator\", function (_ref11, syncWithTicks) {\n        var yAxis = _ref11.yAxis,\n          width = _ref11.width,\n          height = _ref11.height,\n          offset = _ref11.offset;\n        return getCoordinatesOfGrid(getTicks(_objectSpread(_objectSpread(_objectSpread({}, CartesianAxis.defaultProps), yAxis), {}, {\n          ticks: getTicksOfAxis(yAxis, true),\n          viewBox: {\n            x: 0,\n            y: 0,\n            width: width,\n            height: height\n          }\n        })), offset.top, offset.top + offset.height, syncWithTicks);\n      });\n      _defineProperty(_assertThisInitialized(_this), \"axesTicksGenerator\", function (axis) {\n        return getTicksOfAxis(axis, true);\n      });\n      _defineProperty(_assertThisInitialized(_this), \"renderCursor\", function (element) {\n        var _this$state2 = _this.state,\n          isTooltipActive = _this$state2.isTooltipActive,\n          activeCoordinate = _this$state2.activeCoordinate,\n          activePayload = _this$state2.activePayload,\n          offset = _this$state2.offset,\n          activeTooltipIndex = _this$state2.activeTooltipIndex,\n          tooltipAxisBandSize = _this$state2.tooltipAxisBandSize;\n        var tooltipEventType = _this.getTooltipEventType();\n        if (!element || !element.props.cursor || !isTooltipActive || !activeCoordinate || chartName !== 'ScatterChart' && tooltipEventType !== 'axis') {\n          return null;\n        }\n        var layout = _this.props.layout;\n        var restProps;\n        var cursorComp = Curve;\n        if (chartName === 'ScatterChart') {\n          restProps = activeCoordinate;\n          cursorComp = Cross;\n        } else if (chartName === 'BarChart') {\n          restProps = getCursorRectangle(layout, activeCoordinate, offset, tooltipAxisBandSize);\n          cursorComp = Rectangle;\n        } else if (layout === 'radial') {\n          var _getRadialCursorPoint = getRadialCursorPoints(activeCoordinate),\n            cx = _getRadialCursorPoint.cx,\n            cy = _getRadialCursorPoint.cy,\n            radius = _getRadialCursorPoint.radius,\n            startAngle = _getRadialCursorPoint.startAngle,\n            endAngle = _getRadialCursorPoint.endAngle;\n          restProps = {\n            cx: cx,\n            cy: cy,\n            startAngle: startAngle,\n            endAngle: endAngle,\n            innerRadius: radius,\n            outerRadius: radius\n          };\n          cursorComp = Sector;\n        } else {\n          restProps = {\n            points: getCursorPoints(layout, activeCoordinate, offset)\n          };\n          cursorComp = Curve;\n        }\n        var key = element.key || '_recharts-cursor';\n        var cursorProps = _objectSpread(_objectSpread(_objectSpread(_objectSpread({\n          stroke: '#ccc',\n          pointerEvents: 'none'\n        }, offset), restProps), filterProps(element.props.cursor)), {}, {\n          payload: activePayload,\n          payloadIndex: activeTooltipIndex,\n          key: key,\n          className: 'recharts-tooltip-cursor'\n        });\n        return /*#__PURE__*/isValidElement(element.props.cursor) ? /*#__PURE__*/cloneElement(element.props.cursor, cursorProps) : /*#__PURE__*/createElement(cursorComp, cursorProps);\n      });\n      _defineProperty(_assertThisInitialized(_this), \"renderPolarAxis\", function (element, displayName, index) {\n        var axisType = _get(element, 'type.axisType');\n        var axisMap = _get(_this.state, \"\".concat(axisType, \"Map\"));\n        var axisOption = axisMap && axisMap[element.props[\"\".concat(axisType, \"Id\")]];\n        return /*#__PURE__*/cloneElement(element, _objectSpread(_objectSpread({}, axisOption), {}, {\n          className: axisType,\n          key: element.key || \"\".concat(displayName, \"-\").concat(index),\n          ticks: getTicksOfAxis(axisOption, true)\n        }));\n      });\n      _defineProperty(_assertThisInitialized(_this), \"renderXAxis\", function (element, displayName, index) {\n        var xAxisMap = _this.state.xAxisMap;\n        var axisObj = xAxisMap[element.props.xAxisId];\n        return _this.renderAxis(axisObj, element, displayName, index);\n      });\n      _defineProperty(_assertThisInitialized(_this), \"renderYAxis\", function (element, displayName, index) {\n        var yAxisMap = _this.state.yAxisMap;\n        var axisObj = yAxisMap[element.props.yAxisId];\n        return _this.renderAxis(axisObj, element, displayName, index);\n      });\n      /**\n       * Draw grid\n       * @param  {ReactElement} element the grid item\n       * @return {ReactElement} The instance of grid\n       */\n      _defineProperty(_assertThisInitialized(_this), \"renderGrid\", function (element) {\n        var _this$state3 = _this.state,\n          xAxisMap = _this$state3.xAxisMap,\n          yAxisMap = _this$state3.yAxisMap,\n          offset = _this$state3.offset;\n        var _this$props = _this.props,\n          width = _this$props.width,\n          height = _this$props.height;\n        var xAxis = getAnyElementOfObject(xAxisMap);\n        var yAxisWithFiniteDomain = _find(yAxisMap, function (axis) {\n          return _every(axis.domain, isFinit);\n        });\n        var yAxis = yAxisWithFiniteDomain || getAnyElementOfObject(yAxisMap);\n        var props = element.props || {};\n        return /*#__PURE__*/cloneElement(element, {\n          key: element.key || 'grid',\n          x: isNumber(props.x) ? props.x : offset.left,\n          y: isNumber(props.y) ? props.y : offset.top,\n          width: isNumber(props.width) ? props.width : offset.width,\n          height: isNumber(props.height) ? props.height : offset.height,\n          xAxis: xAxis,\n          yAxis: yAxis,\n          offset: offset,\n          chartWidth: width,\n          chartHeight: height,\n          verticalCoordinatesGenerator: props.verticalCoordinatesGenerator || _this.verticalCoordinatesGenerator,\n          horizontalCoordinatesGenerator: props.horizontalCoordinatesGenerator || _this.horizontalCoordinatesGenerator\n        });\n      });\n      _defineProperty(_assertThisInitialized(_this), \"renderPolarGrid\", function (element) {\n        var _element$props = element.props,\n          radialLines = _element$props.radialLines,\n          polarAngles = _element$props.polarAngles,\n          polarRadius = _element$props.polarRadius;\n        var _this$state4 = _this.state,\n          radiusAxisMap = _this$state4.radiusAxisMap,\n          angleAxisMap = _this$state4.angleAxisMap;\n        var radiusAxis = getAnyElementOfObject(radiusAxisMap);\n        var angleAxis = getAnyElementOfObject(angleAxisMap);\n        var cx = angleAxis.cx,\n          cy = angleAxis.cy,\n          innerRadius = angleAxis.innerRadius,\n          outerRadius = angleAxis.outerRadius;\n        return /*#__PURE__*/cloneElement(element, {\n          polarAngles: _isArray(polarAngles) ? polarAngles : getTicksOfAxis(angleAxis, true).map(function (entry) {\n            return entry.coordinate;\n          }),\n          polarRadius: _isArray(polarRadius) ? polarRadius : getTicksOfAxis(radiusAxis, true).map(function (entry) {\n            return entry.coordinate;\n          }),\n          cx: cx,\n          cy: cy,\n          innerRadius: innerRadius,\n          outerRadius: outerRadius,\n          key: element.key || 'polar-grid',\n          radialLines: radialLines\n        });\n      });\n      /**\n       * Draw legend\n       * @return {ReactElement}            The instance of Legend\n       */\n      _defineProperty(_assertThisInitialized(_this), \"renderLegend\", function () {\n        var formattedGraphicalItems = _this.state.formattedGraphicalItems;\n        var _this$props2 = _this.props,\n          children = _this$props2.children,\n          width = _this$props2.width,\n          height = _this$props2.height;\n        var margin = _this.props.margin || {};\n        var legendWidth = width - (margin.left || 0) - (margin.right || 0);\n        var props = getLegendProps({\n          children: children,\n          formattedGraphicalItems: formattedGraphicalItems,\n          legendWidth: legendWidth,\n          legendContent: legendContent\n        });\n        if (!props) {\n          return null;\n        }\n        var item = props.item,\n          otherProps = _objectWithoutProperties(props, _excluded);\n        return /*#__PURE__*/cloneElement(item, _objectSpread(_objectSpread({}, otherProps), {}, {\n          chartWidth: width,\n          chartHeight: height,\n          margin: margin,\n          onBBoxUpdate: _this.handleLegendBBoxUpdate\n        }));\n      });\n      /**\n       * Draw Tooltip\n       * @return {ReactElement}  The instance of Tooltip\n       */\n      _defineProperty(_assertThisInitialized(_this), \"renderTooltip\", function () {\n        var children = _this.props.children;\n        var tooltipItem = findChildByType(children, Tooltip);\n        if (!tooltipItem) {\n          return null;\n        }\n        var _this$state5 = _this.state,\n          isTooltipActive = _this$state5.isTooltipActive,\n          activeCoordinate = _this$state5.activeCoordinate,\n          activePayload = _this$state5.activePayload,\n          activeLabel = _this$state5.activeLabel,\n          offset = _this$state5.offset;\n        return /*#__PURE__*/cloneElement(tooltipItem, {\n          viewBox: _objectSpread(_objectSpread({}, offset), {}, {\n            x: offset.left,\n            y: offset.top\n          }),\n          active: isTooltipActive,\n          label: activeLabel,\n          payload: isTooltipActive ? activePayload : [],\n          coordinate: activeCoordinate\n        });\n      });\n      _defineProperty(_assertThisInitialized(_this), \"renderBrush\", function (element) {\n        var _this$props3 = _this.props,\n          margin = _this$props3.margin,\n          data = _this$props3.data;\n        var _this$state6 = _this.state,\n          offset = _this$state6.offset,\n          dataStartIndex = _this$state6.dataStartIndex,\n          dataEndIndex = _this$state6.dataEndIndex,\n          updateId = _this$state6.updateId;\n\n        // TODO: update brush when children update\n        return /*#__PURE__*/cloneElement(element, {\n          key: element.key || '_recharts-brush',\n          onChange: combineEventHandlers(_this.handleBrushChange, null, element.props.onChange),\n          data: data,\n          x: isNumber(element.props.x) ? element.props.x : offset.left,\n          y: isNumber(element.props.y) ? element.props.y : offset.top + offset.height + offset.brushBottom - (margin.bottom || 0),\n          width: isNumber(element.props.width) ? element.props.width : offset.width,\n          startIndex: dataStartIndex,\n          endIndex: dataEndIndex,\n          updateId: \"brush-\".concat(updateId)\n        });\n      });\n      _defineProperty(_assertThisInitialized(_this), \"renderReferenceElement\", function (element, displayName, index) {\n        if (!element) {\n          return null;\n        }\n        var _assertThisInitialize = _assertThisInitialized(_this),\n          clipPathId = _assertThisInitialize.clipPathId;\n        var _this$state7 = _this.state,\n          xAxisMap = _this$state7.xAxisMap,\n          yAxisMap = _this$state7.yAxisMap,\n          offset = _this$state7.offset;\n        var _element$props2 = element.props,\n          xAxisId = _element$props2.xAxisId,\n          yAxisId = _element$props2.yAxisId;\n        return /*#__PURE__*/cloneElement(element, {\n          key: element.key || \"\".concat(displayName, \"-\").concat(index),\n          xAxis: xAxisMap[xAxisId],\n          yAxis: yAxisMap[yAxisId],\n          viewBox: {\n            x: offset.left,\n            y: offset.top,\n            width: offset.width,\n            height: offset.height\n          },\n          clipPathId: clipPathId\n        });\n      });\n      _defineProperty(_assertThisInitialized(_this), \"renderActivePoints\", function (_ref12) {\n        var item = _ref12.item,\n          activePoint = _ref12.activePoint,\n          basePoint = _ref12.basePoint,\n          childIndex = _ref12.childIndex,\n          isRange = _ref12.isRange;\n        var result = [];\n        var key = item.props.key;\n        var _item$item$props = item.item.props,\n          activeDot = _item$item$props.activeDot,\n          dataKey = _item$item$props.dataKey;\n        var dotProps = _objectSpread(_objectSpread({\n          index: childIndex,\n          dataKey: dataKey,\n          cx: activePoint.x,\n          cy: activePoint.y,\n          r: 4,\n          fill: getMainColorOfGraphicItem(item.item),\n          strokeWidth: 2,\n          stroke: '#fff',\n          payload: activePoint.payload,\n          value: activePoint.value,\n          key: \"\".concat(key, \"-activePoint-\").concat(childIndex)\n        }, filterProps(activeDot)), adaptEventHandlers(activeDot));\n        result.push(CategoricalChartWrapper.renderActiveDot(activeDot, dotProps));\n        if (basePoint) {\n          result.push(CategoricalChartWrapper.renderActiveDot(activeDot, _objectSpread(_objectSpread({}, dotProps), {}, {\n            cx: basePoint.x,\n            cy: basePoint.y,\n            key: \"\".concat(key, \"-basePoint-\").concat(childIndex)\n          })));\n        } else if (isRange) {\n          result.push(null);\n        }\n        return result;\n      });\n      _defineProperty(_assertThisInitialized(_this), \"renderGraphicChild\", function (element, displayName, index) {\n        var item = _this.filterFormatItem(element, displayName, index);\n        if (!item) {\n          return null;\n        }\n        var tooltipEventType = _this.getTooltipEventType();\n        var _this$state8 = _this.state,\n          isTooltipActive = _this$state8.isTooltipActive,\n          tooltipAxis = _this$state8.tooltipAxis,\n          activeTooltipIndex = _this$state8.activeTooltipIndex,\n          activeLabel = _this$state8.activeLabel;\n        var children = _this.props.children;\n        var tooltipItem = findChildByType(children, Tooltip);\n        var _item$props2 = item.props,\n          points = _item$props2.points,\n          isRange = _item$props2.isRange,\n          baseLine = _item$props2.baseLine;\n        var _item$item$props2 = item.item.props,\n          activeDot = _item$item$props2.activeDot,\n          hide = _item$item$props2.hide,\n          activeBar = _item$item$props2.activeBar,\n          activeShape = _item$item$props2.activeShape;\n        var hasActive = Boolean(!hide && isTooltipActive && tooltipItem && (activeDot || activeBar || activeShape));\n        var itemEvents = {};\n        if (tooltipEventType !== 'axis' && tooltipItem && tooltipItem.props.trigger === 'click') {\n          itemEvents = {\n            onClick: combineEventHandlers(_this.handleItemMouseEnter, null, element.props.onCLick)\n          };\n        } else if (tooltipEventType !== 'axis') {\n          itemEvents = {\n            onMouseLeave: combineEventHandlers(_this.handleItemMouseLeave, null, element.props.onMouseLeave),\n            onMouseEnter: combineEventHandlers(_this.handleItemMouseEnter, null, element.props.onMouseEnter)\n          };\n        }\n        var graphicalItem = /*#__PURE__*/cloneElement(element, _objectSpread(_objectSpread({}, item.props), itemEvents));\n        function findWithPayload(entry) {\n          // TODO needs to verify dataKey is Function\n          return typeof tooltipAxis.dataKey === 'function' ? tooltipAxis.dataKey(entry.payload) : null;\n        }\n        if (hasActive) {\n          if (activeTooltipIndex >= 0) {\n            var activePoint, basePoint;\n            if (tooltipAxis.dataKey && !tooltipAxis.allowDuplicatedCategory) {\n              // number transform to string\n              var specifiedKey = typeof tooltipAxis.dataKey === 'function' ? findWithPayload : 'payload.'.concat(tooltipAxis.dataKey.toString());\n              activePoint = findEntryInArray(points, specifiedKey, activeLabel);\n              basePoint = isRange && baseLine && findEntryInArray(baseLine, specifiedKey, activeLabel);\n            } else {\n              activePoint = points === null || points === void 0 ? void 0 : points[activeTooltipIndex];\n              basePoint = isRange && baseLine && baseLine[activeTooltipIndex];\n            }\n            if (activeShape || activeBar) {\n              var activeIndex = element.props.activeIndex !== undefined ? element.props.activeIndex : activeTooltipIndex;\n              return [/*#__PURE__*/cloneElement(element, _objectSpread(_objectSpread(_objectSpread({}, item.props), itemEvents), {}, {\n                activeIndex: activeIndex\n              })), null, null];\n            }\n            if (!_isNil(activePoint)) {\n              return [graphicalItem].concat(_toConsumableArray(_this.renderActivePoints({\n                item: item,\n                activePoint: activePoint,\n                basePoint: basePoint,\n                childIndex: activeTooltipIndex,\n                isRange: isRange\n              })));\n            }\n          } else {\n            var _this$getItemByXY;\n            /**\n             * We hit this block if consumer uses a Tooltip without XAxis and/or YAxis.\n             * In which case, this.state.activeTooltipIndex never gets set\n             * because the mouse events that trigger that value getting set never get trigged without the axis components.\n             *\n             * An example usage case is a FunnelChart\n             */\n            var _ref13 = (_this$getItemByXY = _this.getItemByXY(_this.state.activeCoordinate)) !== null && _this$getItemByXY !== void 0 ? _this$getItemByXY : {\n                graphicalItem: graphicalItem\n              },\n              _ref13$graphicalItem = _ref13.graphicalItem,\n              _ref13$graphicalItem$ = _ref13$graphicalItem.item,\n              xyItem = _ref13$graphicalItem$ === void 0 ? element : _ref13$graphicalItem$,\n              childIndex = _ref13$graphicalItem.childIndex;\n            var elementProps = _objectSpread(_objectSpread(_objectSpread({}, item.props), itemEvents), {}, {\n              activeIndex: childIndex\n            });\n            return [/*#__PURE__*/cloneElement(xyItem, elementProps), null, null];\n          }\n        }\n        if (isRange) {\n          return [graphicalItem, null, null];\n        }\n        return [graphicalItem, null];\n      });\n      _defineProperty(_assertThisInitialized(_this), \"renderCustomized\", function (element, displayName, index) {\n        return /*#__PURE__*/cloneElement(element, _objectSpread(_objectSpread({\n          key: \"recharts-customized-\".concat(index)\n        }, _this.props), _this.state));\n      });\n      _this.uniqueChartId = _isNil(_props.id) ? uniqueId('recharts') : _props.id;\n      _this.clipPathId = \"\".concat(_this.uniqueChartId, \"-clip\");\n      if (_props.throttleDelay) {\n        _this.triggeredAfterMouseMove = _throttle(_this.triggeredAfterMouseMove, _props.throttleDelay);\n      }\n      _this.state = {};\n      return _this;\n    }\n    _createClass(CategoricalChartWrapper, [{\n      key: \"componentDidMount\",\n      value: function componentDidMount() {\n        var _this$props$margin$le, _this$props$margin$to;\n        if (!_isNil(this.props.syncId)) {\n          this.addListener();\n        }\n        this.accessibilityManager.setDetails({\n          container: this.container,\n          offset: {\n            left: (_this$props$margin$le = this.props.margin.left) !== null && _this$props$margin$le !== void 0 ? _this$props$margin$le : 0,\n            top: (_this$props$margin$to = this.props.margin.top) !== null && _this$props$margin$to !== void 0 ? _this$props$margin$to : 0\n          },\n          coordinateList: this.state.tooltipTicks,\n          mouseHandlerCallback: this.handleMouseMove,\n          layout: this.props.layout\n        });\n      }\n    }, {\n      key: \"getSnapshotBeforeUpdate\",\n      value: function getSnapshotBeforeUpdate(prevProps, prevState) {\n        if (!this.props.accessibilityLayer) {\n          return null;\n        }\n        if (this.state.tooltipTicks !== prevState.tooltipTicks) {\n          this.accessibilityManager.setDetails({\n            coordinateList: this.state.tooltipTicks\n          });\n        }\n        if (this.props.layout !== prevProps.layout) {\n          this.accessibilityManager.setDetails({\n            layout: this.props.layout\n          });\n        }\n        if (this.props.margin !== prevProps.margin) {\n          var _this$props$margin$le2, _this$props$margin$to2;\n          this.accessibilityManager.setDetails({\n            offset: {\n              left: (_this$props$margin$le2 = this.props.margin.left) !== null && _this$props$margin$le2 !== void 0 ? _this$props$margin$le2 : 0,\n              top: (_this$props$margin$to2 = this.props.margin.top) !== null && _this$props$margin$to2 !== void 0 ? _this$props$margin$to2 : 0\n            }\n          });\n        }\n\n        // Something has to be returned for getSnapshotBeforeUpdate\n        return null;\n      }\n    }, {\n      key: \"componentDidUpdate\",\n      value: function componentDidUpdate(prevProps) {\n        // add syncId\n        if (_isNil(prevProps.syncId) && !_isNil(this.props.syncId)) {\n          this.addListener();\n        }\n        // remove syncId\n        if (!_isNil(prevProps.syncId) && _isNil(this.props.syncId)) {\n          this.removeListener();\n        }\n      }\n    }, {\n      key: \"componentWillUnmount\",\n      value: function componentWillUnmount() {\n        this.clearDefer();\n        if (!_isNil(this.props.syncId)) {\n          this.removeListener();\n        }\n        this.cancelThrottledTriggerAfterMouseMove();\n      }\n    }, {\n      key: \"cancelThrottledTriggerAfterMouseMove\",\n      value: function cancelThrottledTriggerAfterMouseMove() {\n        if (typeof this.triggeredAfterMouseMove.cancel === 'function') {\n          this.triggeredAfterMouseMove.cancel();\n        }\n      }\n    }, {\n      key: \"getTooltipEventType\",\n      value: function getTooltipEventType() {\n        var tooltipItem = findChildByType(this.props.children, Tooltip);\n        if (tooltipItem && _isBoolean(tooltipItem.props.shared)) {\n          var eventType = tooltipItem.props.shared ? 'axis' : 'item';\n          return validateTooltipEventTypes.indexOf(eventType) >= 0 ? eventType : defaultTooltipEventType;\n        }\n        return defaultTooltipEventType;\n      }\n\n      /**\n       * Get the information of mouse in chart, return null when the mouse is not in the chart\n       * @param  {Object} event    The event object\n       * @return {Object}          Mouse data\n       */\n    }, {\n      key: \"getMouseInfo\",\n      value: function getMouseInfo(event) {\n        var _element$getBoundingC;\n        if (!this.container) {\n          return null;\n        }\n        var containerOffset = getOffset(this.container);\n        var e = calculateChartCoordinate(event, containerOffset);\n        var element = this.container;\n        var boundingRectWidth = element === null || element === void 0 || (_element$getBoundingC = element.getBoundingClientRect()) === null || _element$getBoundingC === void 0 ? void 0 : _element$getBoundingC.width;\n        var offsetWidth = element.offsetWidth;\n        var scale = boundingRectWidth / offsetWidth || 1;\n        var rangeObj = this.inRange(e.chartX, e.chartY, scale);\n        if (!rangeObj) {\n          return null;\n        }\n        var _this$state9 = this.state,\n          xAxisMap = _this$state9.xAxisMap,\n          yAxisMap = _this$state9.yAxisMap;\n        var tooltipEventType = this.getTooltipEventType();\n        if (tooltipEventType !== 'axis' && xAxisMap && yAxisMap) {\n          var xScale = getAnyElementOfObject(xAxisMap).scale;\n          var yScale = getAnyElementOfObject(yAxisMap).scale;\n          var xValue = xScale && xScale.invert ? xScale.invert(e.chartX) : null;\n          var yValue = yScale && yScale.invert ? yScale.invert(e.chartY) : null;\n          return _objectSpread(_objectSpread({}, e), {}, {\n            xValue: xValue,\n            yValue: yValue\n          });\n        }\n        var toolTipData = getTooltipData(this.state, this.props.data, this.props.layout, rangeObj);\n        if (toolTipData) {\n          return _objectSpread(_objectSpread({}, e), toolTipData);\n        }\n        return null;\n      }\n    }, {\n      key: \"inRange\",\n      value: function inRange(x, y) {\n        var scale = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\n        var layout = this.props.layout;\n        var scaledX = x / scale,\n          scaledY = y / scale;\n        if (layout === 'horizontal' || layout === 'vertical') {\n          var offset = this.state.offset;\n          var isInRange = scaledX >= offset.left && scaledX <= offset.left + offset.width && scaledY >= offset.top && scaledY <= offset.top + offset.height;\n          return isInRange ? {\n            x: scaledX,\n            y: scaledY\n          } : null;\n        }\n        var _this$state10 = this.state,\n          angleAxisMap = _this$state10.angleAxisMap,\n          radiusAxisMap = _this$state10.radiusAxisMap;\n        if (angleAxisMap && radiusAxisMap) {\n          var angleAxis = getAnyElementOfObject(angleAxisMap);\n          return inRangeOfSector({\n            x: scaledX,\n            y: scaledY\n          }, angleAxis);\n        }\n        return null;\n      }\n    }, {\n      key: \"parseEventsOfWrapper\",\n      value: function parseEventsOfWrapper() {\n        var children = this.props.children;\n        var tooltipEventType = this.getTooltipEventType();\n        var tooltipItem = findChildByType(children, Tooltip);\n        var tooltipEvents = {};\n        if (tooltipItem && tooltipEventType === 'axis') {\n          if (tooltipItem.props.trigger === 'click') {\n            tooltipEvents = {\n              onClick: this.handleClick\n            };\n          } else {\n            tooltipEvents = {\n              onMouseEnter: this.handleMouseEnter,\n              onMouseMove: this.handleMouseMove,\n              onMouseLeave: this.handleMouseLeave,\n              onTouchMove: this.handleTouchMove,\n              onTouchStart: this.handleTouchStart,\n              onTouchEnd: this.handleTouchEnd\n            };\n          }\n        }\n\n        // @ts-expect-error adaptEventHandlers expects DOM Event but generateCategoricalChart works with React UIEvents\n        var outerEvents = adaptEventHandlers(this.props, this.handleOuterEvent);\n        return _objectSpread(_objectSpread({}, outerEvents), tooltipEvents);\n      }\n\n      /* eslint-disable  no-underscore-dangle */\n    }, {\n      key: \"addListener\",\n      value: function addListener() {\n        eventCenter.on(SYNC_EVENT, this.handleReceiveSyncEvent);\n        if (eventCenter.setMaxListeners && eventCenter._maxListeners) {\n          eventCenter.setMaxListeners(eventCenter._maxListeners + 1);\n        }\n      }\n    }, {\n      key: \"removeListener\",\n      value: function removeListener() {\n        eventCenter.removeListener(SYNC_EVENT, this.handleReceiveSyncEvent);\n        if (eventCenter.setMaxListeners && eventCenter._maxListeners) {\n          eventCenter.setMaxListeners(eventCenter._maxListeners - 1);\n        }\n      }\n    }, {\n      key: \"triggerSyncEvent\",\n      value: function triggerSyncEvent(data) {\n        var syncId = this.props.syncId;\n        if (!_isNil(syncId)) {\n          eventCenter.emit(SYNC_EVENT, syncId, this.uniqueChartId, data);\n        }\n      }\n    }, {\n      key: \"applySyncEvent\",\n      value: function applySyncEvent(data) {\n        var _this$props4 = this.props,\n          layout = _this$props4.layout,\n          syncMethod = _this$props4.syncMethod;\n        var updateId = this.state.updateId;\n        var dataStartIndex = data.dataStartIndex,\n          dataEndIndex = data.dataEndIndex;\n        if (!_isNil(data.dataStartIndex) || !_isNil(data.dataEndIndex)) {\n          this.setState(_objectSpread({\n            dataStartIndex: dataStartIndex,\n            dataEndIndex: dataEndIndex\n          }, updateStateOfAxisMapsOffsetAndStackGroups({\n            props: this.props,\n            dataStartIndex: dataStartIndex,\n            dataEndIndex: dataEndIndex,\n            updateId: updateId\n          }, this.state)));\n        } else if (!_isNil(data.activeTooltipIndex)) {\n          var chartX = data.chartX,\n            chartY = data.chartY;\n          var activeTooltipIndex = data.activeTooltipIndex;\n          var _this$state11 = this.state,\n            offset = _this$state11.offset,\n            tooltipTicks = _this$state11.tooltipTicks;\n          if (!offset) {\n            return;\n          }\n          if (typeof syncMethod === 'function') {\n            // Call a callback function. If there is an application specific algorithm\n            activeTooltipIndex = syncMethod(tooltipTicks, data);\n          } else if (syncMethod === 'value') {\n            // Set activeTooltipIndex to the index with the same value as data.activeLabel\n            // For loop instead of findIndex because the latter is very slow in some browsers\n            activeTooltipIndex = -1; // in case we cannot find the element\n            for (var i = 0; i < tooltipTicks.length; i++) {\n              if (tooltipTicks[i].value === data.activeLabel) {\n                activeTooltipIndex = i;\n                break;\n              }\n            }\n          }\n          var viewBox = _objectSpread(_objectSpread({}, offset), {}, {\n            x: offset.left,\n            y: offset.top\n          });\n          // When a categorical chart is combined with another chart, the value of chartX\n          // and chartY may beyond the boundaries.\n          var validateChartX = Math.min(chartX, viewBox.x + viewBox.width);\n          var validateChartY = Math.min(chartY, viewBox.y + viewBox.height);\n          var activeLabel = tooltipTicks[activeTooltipIndex] && tooltipTicks[activeTooltipIndex].value;\n          var activePayload = getTooltipContent(this.state, this.props.data, activeTooltipIndex);\n          var activeCoordinate = tooltipTicks[activeTooltipIndex] ? {\n            x: layout === 'horizontal' ? tooltipTicks[activeTooltipIndex].coordinate : validateChartX,\n            y: layout === 'horizontal' ? validateChartY : tooltipTicks[activeTooltipIndex].coordinate\n          } : originCoordinate;\n          this.setState(_objectSpread(_objectSpread({}, data), {}, {\n            activeLabel: activeLabel,\n            activeCoordinate: activeCoordinate,\n            activePayload: activePayload,\n            activeTooltipIndex: activeTooltipIndex\n          }));\n        } else {\n          this.setState(data);\n        }\n      }\n    }, {\n      key: \"filterFormatItem\",\n      value: function filterFormatItem(item, displayName, childIndex) {\n        var formattedGraphicalItems = this.state.formattedGraphicalItems;\n        for (var i = 0, len = formattedGraphicalItems.length; i < len; i++) {\n          var entry = formattedGraphicalItems[i];\n          if (entry.item === item || entry.props.key === item.key || displayName === getDisplayName(entry.item.type) && childIndex === entry.childIndex) {\n            return entry;\n          }\n        }\n        return null;\n      }\n    }, {\n      key: \"renderAxis\",\n      value:\n      /**\n       * Draw axis\n       * @param {Object} axisOptions The options of axis\n       * @param {Object} element      The axis element\n       * @param {String} displayName  The display name of axis\n       * @param {Number} index        The index of element\n       * @return {ReactElement}       The instance of x-axes\n       */\n      function renderAxis(axisOptions, element, displayName, index) {\n        var _this$props5 = this.props,\n          width = _this$props5.width,\n          height = _this$props5.height;\n        return /*#__PURE__*/React.createElement(CartesianAxis, _extends({}, axisOptions, {\n          className: classNames(\"recharts-\".concat(axisOptions.axisType, \" \").concat(axisOptions.axisType), axisOptions.className),\n          key: element.key || \"\".concat(displayName, \"-\").concat(index),\n          viewBox: {\n            x: 0,\n            y: 0,\n            width: width,\n            height: height\n          },\n          ticksGenerator: this.axesTicksGenerator\n        }));\n      }\n    }, {\n      key: \"renderClipPath\",\n      value: function renderClipPath() {\n        var clipPathId = this.clipPathId;\n        var _this$state$offset = this.state.offset,\n          left = _this$state$offset.left,\n          top = _this$state$offset.top,\n          height = _this$state$offset.height,\n          width = _this$state$offset.width;\n        return /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"clipPath\", {\n          id: clipPathId\n        }, /*#__PURE__*/React.createElement(\"rect\", {\n          x: left,\n          y: top,\n          height: height,\n          width: width\n        })));\n      }\n    }, {\n      key: \"getXScales\",\n      value: function getXScales() {\n        var xAxisMap = this.state.xAxisMap;\n        return xAxisMap ? Object.entries(xAxisMap).reduce(function (res, _ref14) {\n          var _ref15 = _slicedToArray(_ref14, 2),\n            axisId = _ref15[0],\n            axisProps = _ref15[1];\n          return _objectSpread(_objectSpread({}, res), {}, _defineProperty({}, axisId, axisProps.scale));\n        }, {}) : null;\n      }\n    }, {\n      key: \"getYScales\",\n      value: function getYScales() {\n        var yAxisMap = this.state.yAxisMap;\n        return yAxisMap ? Object.entries(yAxisMap).reduce(function (res, _ref16) {\n          var _ref17 = _slicedToArray(_ref16, 2),\n            axisId = _ref17[0],\n            axisProps = _ref17[1];\n          return _objectSpread(_objectSpread({}, res), {}, _defineProperty({}, axisId, axisProps.scale));\n        }, {}) : null;\n      }\n    }, {\n      key: \"getXScaleByAxisId\",\n      value: function getXScaleByAxisId(axisId) {\n        var _this$state$xAxisMap;\n        return (_this$state$xAxisMap = this.state.xAxisMap) === null || _this$state$xAxisMap === void 0 || (_this$state$xAxisMap = _this$state$xAxisMap[axisId]) === null || _this$state$xAxisMap === void 0 ? void 0 : _this$state$xAxisMap.scale;\n      }\n    }, {\n      key: \"getYScaleByAxisId\",\n      value: function getYScaleByAxisId(axisId) {\n        var _this$state$yAxisMap;\n        return (_this$state$yAxisMap = this.state.yAxisMap) === null || _this$state$yAxisMap === void 0 || (_this$state$yAxisMap = _this$state$yAxisMap[axisId]) === null || _this$state$yAxisMap === void 0 ? void 0 : _this$state$yAxisMap.scale;\n      }\n    }, {\n      key: \"getItemByXY\",\n      value: function getItemByXY(chartXY) {\n        var _this$state12 = this.state,\n          formattedGraphicalItems = _this$state12.formattedGraphicalItems,\n          activeItem = _this$state12.activeItem;\n        if (formattedGraphicalItems && formattedGraphicalItems.length) {\n          for (var i = 0, len = formattedGraphicalItems.length; i < len; i++) {\n            var graphicalItem = formattedGraphicalItems[i];\n            var props = graphicalItem.props,\n              item = graphicalItem.item;\n            var itemDisplayName = getDisplayName(item.type);\n            if (itemDisplayName === 'Bar') {\n              var activeBarItem = (props.data || []).find(function (entry) {\n                return isInRectangle(chartXY, entry);\n              });\n              if (activeBarItem) {\n                return {\n                  graphicalItem: graphicalItem,\n                  payload: activeBarItem\n                };\n              }\n            } else if (itemDisplayName === 'RadialBar') {\n              var _activeBarItem = (props.data || []).find(function (entry) {\n                return inRangeOfSector(chartXY, entry);\n              });\n              if (_activeBarItem) {\n                return {\n                  graphicalItem: graphicalItem,\n                  payload: _activeBarItem\n                };\n              }\n            } else if (isFunnel(graphicalItem, activeItem) || isPie(graphicalItem, activeItem) || isScatter(graphicalItem, activeItem)) {\n              var activeIndex = getActiveShapeIndexForTooltip({\n                graphicalItem: graphicalItem,\n                activeTooltipItem: activeItem,\n                itemData: item.props.data\n              });\n              var childIndex = item.props.activeIndex === undefined ? activeIndex : item.props.activeIndex;\n              return {\n                graphicalItem: _objectSpread(_objectSpread({}, graphicalItem), {}, {\n                  childIndex: childIndex\n                }),\n                payload: isScatter(graphicalItem, activeItem) ? item.props.data[activeIndex] : graphicalItem.props.data[activeIndex]\n              };\n            }\n          }\n        }\n        return null;\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        var _this2 = this;\n        if (!validateWidthHeight(this)) {\n          return null;\n        }\n        var _this$props6 = this.props,\n          children = _this$props6.children,\n          className = _this$props6.className,\n          width = _this$props6.width,\n          height = _this$props6.height,\n          style = _this$props6.style,\n          compact = _this$props6.compact,\n          title = _this$props6.title,\n          desc = _this$props6.desc,\n          others = _objectWithoutProperties(_this$props6, _excluded2);\n        var attrs = filterProps(others);\n        var map = {\n          CartesianGrid: {\n            handler: this.renderGrid,\n            once: true\n          },\n          ReferenceArea: {\n            handler: this.renderReferenceElement\n          },\n          ReferenceLine: {\n            handler: this.renderReferenceElement\n          },\n          ReferenceDot: {\n            handler: this.renderReferenceElement\n          },\n          XAxis: {\n            handler: this.renderXAxis\n          },\n          YAxis: {\n            handler: this.renderYAxis\n          },\n          Brush: {\n            handler: this.renderBrush,\n            once: true\n          },\n          Bar: {\n            handler: this.renderGraphicChild\n          },\n          Line: {\n            handler: this.renderGraphicChild\n          },\n          Area: {\n            handler: this.renderGraphicChild\n          },\n          Radar: {\n            handler: this.renderGraphicChild\n          },\n          RadialBar: {\n            handler: this.renderGraphicChild\n          },\n          Scatter: {\n            handler: this.renderGraphicChild\n          },\n          Pie: {\n            handler: this.renderGraphicChild\n          },\n          Funnel: {\n            handler: this.renderGraphicChild\n          },\n          Tooltip: {\n            handler: this.renderCursor,\n            once: true\n          },\n          PolarGrid: {\n            handler: this.renderPolarGrid,\n            once: true\n          },\n          PolarAngleAxis: {\n            handler: this.renderPolarAxis\n          },\n          PolarRadiusAxis: {\n            handler: this.renderPolarAxis\n          },\n          Customized: {\n            handler: this.renderCustomized\n          }\n        };\n\n        // The \"compact\" mode is mainly used as the panorama within Brush\n        if (compact) {\n          return /*#__PURE__*/React.createElement(Surface, _extends({}, attrs, {\n            width: width,\n            height: height,\n            title: title,\n            desc: desc\n          }), this.renderClipPath(), renderByOrder(children, map));\n        }\n        if (this.props.accessibilityLayer) {\n          var _2, _img;\n          // Set tabIndex to 0 by default (can be overwritten)\n          attrs.tabIndex = (_2 = 0) !== null && _2 !== void 0 ? _2 : this.props.tabIndex;\n          // Set role to img by default (can be overwritten)\n          attrs.role = (_img = 'img') !== null && _img !== void 0 ? _img : this.props.role;\n          attrs.onKeyDown = function (e) {\n            _this2.accessibilityManager.keyboardEvent(e);\n            // 'onKeyDown' is not currently a supported prop that can be passed through\n            // if it's added, this should be added: this.props.onKeyDown(e);\n          };\n\n          attrs.onFocus = function () {\n            _this2.accessibilityManager.focus();\n            // 'onFocus' is not currently a supported prop that can be passed through\n            // if it's added, the focus event should be forwarded to the prop\n          };\n        }\n\n        var events = this.parseEventsOfWrapper();\n        return /*#__PURE__*/React.createElement(\"div\", _extends({\n          className: classNames('recharts-wrapper', className),\n          style: _objectSpread({\n            position: 'relative',\n            cursor: 'default',\n            width: width,\n            height: height\n          }, style)\n        }, events, {\n          ref: function ref(node) {\n            _this2.container = node;\n          },\n          role: \"region\"\n        }), /*#__PURE__*/React.createElement(Surface, _extends({}, attrs, {\n          width: width,\n          height: height,\n          title: title,\n          desc: desc\n        }), this.renderClipPath(), renderByOrder(children, map)), this.renderLegend(), this.renderTooltip());\n      }\n    }]);\n    return CategoricalChartWrapper;\n  }(Component), _defineProperty(_class, \"displayName\", chartName), _defineProperty(_class, \"defaultProps\", _objectSpread({\n    layout: 'horizontal',\n    stackOffset: 'none',\n    barCategoryGap: '10%',\n    barGap: 4,\n    margin: {\n      top: 5,\n      right: 5,\n      bottom: 5,\n      left: 5\n    },\n    reverseStackOrder: false,\n    syncMethod: 'index'\n  }, defaultProps)), _defineProperty(_class, \"getDerivedStateFromProps\", function (nextProps, prevState) {\n    var data = nextProps.data,\n      children = nextProps.children,\n      width = nextProps.width,\n      height = nextProps.height,\n      layout = nextProps.layout,\n      stackOffset = nextProps.stackOffset,\n      margin = nextProps.margin;\n    if (_isNil(prevState.updateId)) {\n      var defaultState = createDefaultState(nextProps);\n      return _objectSpread(_objectSpread(_objectSpread({}, defaultState), {}, {\n        updateId: 0\n      }, updateStateOfAxisMapsOffsetAndStackGroups(_objectSpread(_objectSpread({\n        props: nextProps\n      }, defaultState), {}, {\n        updateId: 0\n      }), prevState)), {}, {\n        prevData: data,\n        prevWidth: width,\n        prevHeight: height,\n        prevLayout: layout,\n        prevStackOffset: stackOffset,\n        prevMargin: margin,\n        prevChildren: children\n      });\n    }\n    if (data !== prevState.prevData || width !== prevState.prevWidth || height !== prevState.prevHeight || layout !== prevState.prevLayout || stackOffset !== prevState.prevStackOffset || !shallowEqual(margin, prevState.prevMargin)) {\n      var _defaultState = createDefaultState(nextProps);\n\n      // Fixes https://github.com/recharts/recharts/issues/2143\n      var keepFromPrevState = {\n        // (chartX, chartY) are (0,0) in default state, but we want to keep the last mouse position to avoid\n        // any flickering\n        chartX: prevState.chartX,\n        chartY: prevState.chartY,\n        // The tooltip should stay active when it was active in the previous render. If this is not\n        // the case, the tooltip disappears and immediately re-appears, causing a flickering effect\n        isTooltipActive: prevState.isTooltipActive\n      };\n      var updatesToState = _objectSpread(_objectSpread({}, getTooltipData(prevState, data, layout)), {}, {\n        updateId: prevState.updateId + 1\n      });\n      var newState = _objectSpread(_objectSpread(_objectSpread({}, _defaultState), keepFromPrevState), updatesToState);\n      return _objectSpread(_objectSpread(_objectSpread({}, newState), updateStateOfAxisMapsOffsetAndStackGroups(_objectSpread({\n        props: nextProps\n      }, newState), prevState)), {}, {\n        prevData: data,\n        prevWidth: width,\n        prevHeight: height,\n        prevLayout: layout,\n        prevStackOffset: stackOffset,\n        prevMargin: margin,\n        prevChildren: children\n      });\n    }\n    if (!isChildrenEqual(children, prevState.prevChildren)) {\n      // update configuration in children\n      var hasGlobalData = !_isNil(data);\n      var newUpdateId = hasGlobalData ? prevState.updateId : prevState.updateId + 1;\n      return _objectSpread(_objectSpread({\n        updateId: newUpdateId\n      }, updateStateOfAxisMapsOffsetAndStackGroups(_objectSpread(_objectSpread({\n        props: nextProps\n      }, prevState), {}, {\n        updateId: newUpdateId\n      }), prevState)), {}, {\n        prevChildren: children\n      });\n    }\n    return null;\n  }), _defineProperty(_class, \"renderActiveDot\", function (option, props) {\n    var dot;\n    if ( /*#__PURE__*/isValidElement(option)) {\n      dot = /*#__PURE__*/cloneElement(option, props);\n    } else if (_isFunction(option)) {\n      dot = option(props);\n    } else {\n      dot = /*#__PURE__*/React.createElement(Dot, props);\n    }\n    return /*#__PURE__*/React.createElement(Layer, {\n      className: \"recharts-active-dot\",\n      key: props.key\n    }, dot);\n  }), _class;\n};"],"mappings":"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"},"metadata":{},"sourceType":"module"}